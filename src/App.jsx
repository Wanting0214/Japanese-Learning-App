import React, { useState } from 'react';

// --- è‡ªå®šç¾©åœ–ç¤ºçµ„ä»¶ (ä½¿ç”¨ Emoji æ›¿ä»£ lucide-react ä»¥ç¢ºä¿ 100% ç©©å®šæ€§) ---
// é€™ç¨®æ–¹å¼å®Œå…¨ä¸ä¾è³´å¤–éƒ¨å¥—ä»¶ï¼Œçµ•å°ä¸æœƒç™¼ç”Ÿ "Element type is invalid" éŒ¯èª¤
const IconBase = ({ icon, className, size, onClick }) => (
  <span 
    onClick={onClick}
    className={`inline-flex items-center justify-center leading-none select-none ${className || ''}`} 
    style={{ 
      fontSize: size ? `${size}px` : '20px', 
      fontStyle: 'normal',
      width: size ? `${size}px` : 'auto',
      height: size ? `${size}px` : 'auto'
    }}
  >
    {icon}
  </span>
);

const BookOpen = (props) => <IconBase icon="ğŸ“–" {...props} />;
const GraduationCap = (props) => <IconBase icon="ğŸ“" {...props} />;
const CheckCircle = (props) => <IconBase icon="âœ…" {...props} />;
const ChevronRight = (props) => <IconBase icon="â€º" {...props} style={{...props.style, fontWeight:'bold'}} />;
const Menu = (props) => <IconBase icon="â˜°" {...props} />;
const X = (props) => <IconBase icon="âœ•" {...props} />;
const Globe = (props) => <IconBase icon="ğŸŒ" {...props} />;
const MessageCircle = (props) => <IconBase icon="ğŸ’¬" {...props} />;
const Star = (props) => <IconBase icon="â­" {...props} />;
const Trophy = (props) => <IconBase icon="ğŸ†" {...props} />;
const RefreshCcw = (props) => <IconBase icon="ğŸ”„" {...props} />;
// Volume2, Calendar, Clock ç­‰åœ¨ä¸‹æ–¹ç›´æ¥ä½¿ç”¨ Emoji å­—ä¸²ï¼Œä¸éœ€è¦é¡å¤–çµ„ä»¶

// --- è³‡æ–™åº« (èª²ç¨‹å…§å®¹) ---
const lessonsData = [
  {
    id: 1,
    title: "ç¬¬1èª²ï¼šè‡ªæˆ‘ä»‹ç´¹èˆ‡åŸºæœ¬å¥å‹",
    description: "å­¸ç¿’å¦‚ä½•è‡ªæˆ‘ä»‹ç´¹ï¼Œä»¥åŠã€Œæ˜¯ã€èˆ‡ã€Œä¸æ˜¯ã€çš„åŸºæœ¬å¥å‹ã€‚",
    vocab: [
      { id: 1, kanji: "ç§", kana: "ã‚ãŸã—", romaji: "watashi", meaning: "æˆ‘" },
      { id: 2, kanji: "ç§ãŸã¡", kana: "ã‚ãŸã—ãŸã¡", romaji: "watashitachi", meaning: "æˆ‘å€‘" },
      { id: 3, kanji: "ã‚ãªãŸ", kana: "ã‚ãªãŸ", romaji: "anata", meaning: "ä½ " },
      { id: 4, kanji: "ã‚ã®äºº", kana: "ã‚ã®ã²ã¨", romaji: "anohito", meaning: "é‚£å€‹äºº" },
      { id: 5, kanji: "ã‚ã®æ–¹", kana: "ã‚ã®ã‹ãŸ", romaji: "anokata", meaning: "é‚£ä¸€ä½ (ç¦®è²Œå½¢)" },
      { id: 6, kanji: "å…ˆç”Ÿ", kana: "ã›ã‚“ã›ã„", romaji: "sensei", meaning: "è€å¸« (ç¨±å‘¼ä»–äºº)" },
      { id: 7, kanji: "æ•™å¸«", kana: "ãã‚‡ã†ã—", romaji: "kyoushi", meaning: "æ•™å¸« (è‡ªç¨±è·æ¥­)" },
      { id: 8, kanji: "å­¦ç”Ÿ", kana: "ãŒãã›ã„", romaji: "gakusei", meaning: "å­¸ç”Ÿ" },
      { id: 9, kanji: "ä¼šç¤¾å“¡", kana: "ã‹ã„ã—ã‚ƒã„ã‚“", romaji: "kaishain", meaning: "å…¬å¸è·å“¡" },
      { id: 10, kanji: "ç¤¾å“¡", kana: "ã—ã‚ƒã„ã‚“", romaji: "shain", meaning: "ï½å…¬å¸çš„è·å“¡" },
      { id: 11, kanji: "åŒ»è€…", kana: "ã„ã—ã‚ƒ", romaji: "isha", meaning: "é†«ç”Ÿ" },
      { id: 12, kanji: "ç ”ç©¶è€…", kana: "ã‘ã‚“ãã‚…ã†ã—ã‚ƒ", romaji: "kenkyuusha", meaning: "ç ”ç©¶äººå“¡" },
      { id: 13, kanji: "å¤§å­¦", kana: "ã ã„ãŒã", romaji: "daigaku", meaning: "å¤§å­¸" },
      { id: 14, kanji: "ç—…é™¢", kana: "ã³ã‚‡ã†ã„ã‚“", romaji: "byouin", meaning: "é†«é™¢" },
      { id: 15, kanji: "èª°", kana: "ã ã‚Œ", romaji: "dare", meaning: "èª°" },
      { id: 16, kanji: "ï½æ­³", kana: "ï½ã•ã„", romaji: "~sai", meaning: "ï½æ­²" },
      { id: 17, kanji: "ä½•æ­³", kana: "ãªã‚“ã•ã„", romaji: "nansai", meaning: "å¹¾æ­²" },
      { id: 18, kanji: "ã¯ã„", kana: "ã¯ã„", romaji: "hai", meaning: "æ˜¯ / å¥½çš„" },
      { id: 19, kanji: "ã„ã„ãˆ", kana: "ã„ã„ãˆ", romaji: "iie", meaning: "ä¸ / ä¸æ˜¯" },
    ],
    relatedVocab: [
      { id: 'r1', category: "åœ‹å®¶ãƒ»äºº", list: [
        { kanji: "ã‚¢ãƒ¡ãƒªã‚«", kana: "ã‚¢ãƒ¡ãƒªã‚«", meaning: "ç¾åœ‹" },
        { kanji: "ã‚¤ã‚®ãƒªã‚¹", kana: "ã‚¤ã‚®ãƒªã‚¹", meaning: "è‹±åœ‹" },
        { kanji: "ã‚¤ãƒ³ãƒ‰", kana: "ã‚¤ãƒ³ãƒ‰", meaning: "å°åº¦" },
        { kanji: "ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢", kana: "ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢", meaning: "å°å°¼" },
        { kanji: "éŸ“å›½", kana: "ã‹ã‚“ã“ã", meaning: "éŸ“åœ‹" },
        { kanji: "ã‚¿ã‚¤", kana: "ã‚¿ã‚¤", meaning: "æ³°åœ‹" },
        { kanji: "ä¸­å›½", kana: "ã¡ã‚…ã†ã”ã", meaning: "ä¸­åœ‹" },
        { kanji: "ãƒ‰ã‚¤ãƒ„", kana: "ãƒ‰ã‚¤ãƒ„", meaning: "å¾·åœ‹" },
        { kanji: "æ—¥æœ¬", kana: "ã«ã»ã‚“", meaning: "æ—¥æœ¬" },
        { kanji: "ãƒ–ãƒ©ã‚¸ãƒ«", kana: "ãƒ–ãƒ©ã‚¸ãƒ«", meaning: "å·´è¥¿" },
      ]}
    ],
    grammar: [
      {
        id: 1,
        title: "ï¼®1 ã¯ ï¼®2 ã§ã™",
        explanation: "é€™æ˜¯æ—¥èªæœ€åŸºæœ¬çš„è‚¯å®šå¥ã€‚ã€Œã¯ã€(è®€ä½œ wa) æ˜¯åŠ©è©ï¼Œæç¤ºä¸»é¡Œã€‚ã€Œã§ã™ã€è¡¨ç¤ºæ–·å®šï¼Œç›¸ç•¶æ–¼ä¸­æ–‡çš„ã€Œæ˜¯ã€ã€‚",
        examples: [
          { jp: "ç§ã¯å­¦ç”Ÿã§ã™ã€‚", cn: "æˆ‘æ˜¯å­¸ç”Ÿã€‚" },
          { jp: "ãƒŸãƒ©ãƒ¼ã•ã‚“ã¯ä¼šç¤¾å“¡ã§ã™ã€‚", cn: "ç±³å‹’å…ˆç”Ÿæ˜¯å…¬å¸è·å“¡ã€‚" },
          { jp: "ã‚µãƒ³ãƒˆã‚¹ã•ã‚“ã¯ãƒ–ãƒ©ã‚¸ãƒ«äººã§ã™ã€‚", cn: "å±±å¤šæ–¯å…ˆç”Ÿæ˜¯å·´è¥¿äººã€‚" }
        ]
      },
      {
        id: 2,
        title: "ï¼®1 ã¯ ï¼®2 ã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“",
        explanation: "é€™æ˜¯ã€Œï½ã§ã™ã€çš„å¦å®šå½¢ï¼Œç”¨æ–¼å£èªã€‚æ­£å¼å ´åˆå¯ç”¨ã€Œã§ã¯ ã‚ã‚Šã¾ã›ã‚“ã€ã€‚",
        examples: [
          { jp: "ç§ã¯ä¼šç¤¾å“¡ã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“ã€‚", cn: "æˆ‘ä¸æ˜¯å…¬å¸è·å“¡ã€‚" },
          { jp: "ã‚µãƒ³ãƒˆã‚¹ã•ã‚“ã¯å­¦ç”Ÿã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“ã€‚", cn: "å±±å¤šæ–¯å…ˆç”Ÿä¸æ˜¯å­¸ç”Ÿã€‚" },
          { jp: "ãƒ¯ãƒ³ã•ã‚“ã¯åŒ»è€…ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚", cn: "ç‹å…ˆç”Ÿä¸æ˜¯é†«ç”Ÿã€‚(è¼ƒæ­£å¼)" }
        ]
      },
      {
        id: 3,
        title: "ï¼®1 ã¯ ï¼®2 ã§ã™ã‹",
        explanation: "åœ¨å¥å°¾åŠ ä¸ŠåŠ©è©ã€Œã‹ã€è¡¨ç¤ºç–‘å•ã€‚æ—¥èªçš„å•å¥é€šå¸¸ä¸ä½¿ç”¨å•è™Ÿï¼Œè€Œæ˜¯ç”¨å¥è™Ÿã€‚",
        examples: [
          { jp: "ã‚ãªãŸã¯å­¦ç”Ÿã§ã™ã‹ã€‚", cn: "ä½ æ˜¯å­¸ç”Ÿå—ï¼Ÿ" },
          { jp: "ãƒŸãƒ©ãƒ¼ã•ã‚“ã¯ã‚¢ãƒ¡ãƒªã‚«äººã§ã™ã‹ã€‚", cn: "ç±³å‹’å…ˆç”Ÿæ˜¯ç¾åœ‹äººå—ï¼Ÿ" },
          { jp: "ã‚ã®æ–¹ã¯ã©ãªãŸã§ã™ã‹ã€‚", cn: "é‚£ä½æ˜¯å“ªä½ï¼Ÿ" }
        ]
      },
      {
        id: 4,
        title: "ï¼®ã‚‚",
        explanation: "åŠ©è©ã€Œã‚‚ã€è¡¨ç¤ºã€Œä¹Ÿã€çš„æ„æ€ã€‚å–ä»£åŸæœ¬çš„ã€Œã¯ã€ã€‚",
        examples: [
          { jp: "ãƒŸãƒ©ãƒ¼ã•ã‚“ã¯ä¼šç¤¾å“¡ã§ã™ã€‚ã‚°ãƒ—ã‚¿ã•ã‚“ã‚‚ä¼šç¤¾å“¡ã§ã™ã€‚", cn: "ç±³å‹’å…ˆç”Ÿæ˜¯å…¬å¸è·å“¡ã€‚å¤æ™®å¡”å…ˆç”Ÿä¹Ÿæ˜¯å…¬å¸è·å“¡ã€‚" },
          { jp: "ç§ã‚‚å­¦ç”Ÿã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“ã€‚", cn: "æˆ‘ä¹Ÿä¸æ˜¯å­¸ç”Ÿã€‚" }
        ]
      }
    ],
    quiz: [
      {
        question: "è«‹é¸æ“‡æ­£ç¢ºçš„åŠ©è©ï¼šç§ (  ) å…ˆç”Ÿã§ã™ã€‚",
        options: ["ã¯", "ãŒ", "ã®", "ã‚’"],
        answer: "ã¯"
      },
      {
        question: "ç¿»è­¯ï¼šæˆ‘ä¸æ˜¯è€å¸«ã€‚",
        options: ["ç§ã¯å…ˆç”Ÿã§ã™ã€‚", "ç§ã¯å…ˆç”Ÿã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“ã€‚", "ç§ã¯å…ˆç”Ÿã§ã™ã‹ã€‚", "ç§ã¯å…ˆç”Ÿã§ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ã€‚"],
        answer: "ç§ã¯å…ˆç”Ÿã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“ã€‚"
      },
      {
        question: "ã€Œè«‹å•æ‚¨è²´å§“å¤§åï¼Ÿã€çš„æ—¥æ–‡æ˜¯ï¼Ÿ",
        options: ["ãŠåå‰ã¯ï¼Ÿ", "ãŠå›½ã¯ï¼Ÿ", "ãŠã„ãã¤ï¼Ÿ", "å¤±ç¤¼ã§ã™ãŒï¼Ÿ"],
        answer: "ãŠåå‰ã¯ï¼Ÿ"
      },
      {
        question: "ç¿»è­¯ï¼šå±±ç”°å…ˆç”Ÿã€Œä¹Ÿã€æ˜¯å…¬å¸è·å“¡ã€‚",
        options: ["å±±ç”°ã•ã‚“ã‚‚ä¼šç¤¾å“¡ã§ã™ã€‚", "å±±ç”°ã•ã‚“ã¯ä¼šç¤¾å“¡ã§ã™ã€‚", "å±±ç”°ã•ã‚“ã®ä¼šç¤¾å“¡ã§ã™ã€‚", "å±±ç”°ã•ã‚“ãŒä¼šç¤¾å“¡ã§ã™ã€‚"],
        answer: "å±±ç”°ã•ã‚“ã‚‚ä¼šç¤¾å“¡ã§ã™ã€‚"
      },
      {
        question: "A: ã‚ãªãŸã¯å­¦ç”Ÿã§ã™ã‹ã€‚ B: ã¯ã„ã€(  )ã€‚",
        options: ["å­¦ç”Ÿã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“", "å­¦ç”Ÿã§ã™", "ãã†ã§ã™ã‹", "ã‚ãªãŸã§ã™"],
        answer: "å­¦ç”Ÿã§ã™"
      },
      {
        question: "ã‚ã®äºº (  ) æœ¨æ‘ã•ã‚“ã§ã™ã€‚",
        options: ["ã¯", "ã®", "ã‚‚", "ã‹"],
        answer: "ã¯"
      },
      {
        question: "ãƒŸãƒ©ãƒ¼ã•ã‚“ã¯ IMC (  ) ç¤¾å“¡ã§ã™ã€‚",
        options: ["ã®", "ã¯", "ã‚‚", "ãŒ"],
        answer: "ã®"
      },
      {
        question: "ã‚ã®æ–¹ ã¯ (  ) ã§ã™ã‹ã€‚",
        options: ["ã©ãªãŸ", "ã ã‚Œ", "ãªã‚“", "ã©ã“"],
        answer: "ã©ãªãŸ"
      },
      {
        question: "åˆæ¬¡è¦‹é¢æ™‚çš„å¯’æš„èªæ˜¯ï¼Ÿ",
        options: ["ã¯ã˜ã‚ã¾ã—ã¦", "ã“ã‚“ã«ã¡ã¯", "ã“ã‚“ã°ã‚“ã¯", "ã•ã‚ˆã†ãªã‚‰"],
        answer: "ã¯ã˜ã‚ã¾ã—ã¦"
      }
    ]
  },
  {
    id: 2,
    title: "ç¬¬2èª²ï¼šæŒ‡ç¤ºä»£åè© (ã“ãã‚ã©)",
    description: "å­¸ç¿’å¦‚ä½•æŒ‡ç¨±äº‹ç‰©ï¼šé€™ã€é‚£ã€é‚£å€‹ã€‚",
    vocab: [
      { id: 1, kanji: "ã“ã‚Œ", kana: "ã“ã‚Œ", romaji: "kore", meaning: "é€™ (è¿‘ç¨±)" },
      { id: 2, kanji: "ãã‚Œ", kana: "ãã‚Œ", romaji: "sore", meaning: "é‚£ (ä¸­ç¨±)" },
      { id: 3, kanji: "ã‚ã‚Œ", kana: "ã‚ã‚Œ", romaji: "are", meaning: "é‚£å€‹ (é ç¨±)" },
      { id: 4, kanji: "ã“ã®ï½", kana: "ã“ã®ï½", romaji: "kono~", meaning: "é€™ï½ (é€£é«”è©)" },
      { id: 5, kanji: "æœ¬", kana: "ã»ã‚“", romaji: "hon", meaning: "æ›¸" },
      { id: 6, kanji: "è¾æ›¸", kana: "ã˜ã—ã‚‡", romaji: "jisho", meaning: "å­—å…¸" },
      { id: 7, kanji: "é›‘èªŒ", kana: "ã–ã£ã—", romaji: "zasshi", meaning: "é›œèªŒ" },
      { id: 8, kanji: "æ–°è", kana: "ã—ã‚“ã¶ã‚“", romaji: "shinbun", meaning: "å ±ç´™" },
      { id: 9, kanji: "æ‰‹å¸³", kana: "ã¦ã¡ã‚‡ã†", romaji: "techou", meaning: "è¨˜äº‹æœ¬" },
      { id: 10, kanji: "ååˆº", kana: "ã‚ã„ã—", romaji: "meishi", meaning: "åç‰‡" },
      { id: 11, kanji: "é‰›ç­†", kana: "ãˆã‚“ã´ã¤", romaji: "enpitsu", meaning: "é‰›ç­†" },
      { id: 12, kanji: "æ™‚è¨ˆ", kana: "ã¨ã‘ã„", romaji: "tokei", meaning: "é˜éŒ¶" },
      { id: 13, kanji: "å‚˜", kana: "ã‹ã•", romaji: "kasa", meaning: "å‚˜" },
      { id: 14, kanji: "é„", kana: "ã‹ã°ã‚“", romaji: "kaban", meaning: "çš®åŒ…" },
      { id: 15, kanji: "è»Š", kana: "ãã‚‹ã¾", romaji: "kuruma", meaning: "è»Šå­" },
      { id: 16, kanji: "æœº", kana: "ã¤ããˆ", romaji: "tsukue", meaning: "æ¡Œå­" },
      { id: 17, kanji: "æ¤…å­", kana: "ã„ã™", romaji: "isu", meaning: "æ¤…å­" },
      { id: 18, kanji: "è‹±èª", kana: "ãˆã„ã”", romaji: "eigo", meaning: "è‹±èª" },
      { id: 19, kanji: "ä½•", kana: "ãªã‚“", romaji: "nan", meaning: "ä»€éº¼" },
    ],
    relatedVocab: [
      { id: 'r1', category: "èº«é‚Šçš„å°ç‰©", list: [
        { kanji: "ã‚«ã‚»ãƒƒãƒˆãƒ†ãƒ¼ãƒ—", kana: "ã‚«ã‚»ãƒƒãƒˆãƒ†ãƒ¼ãƒ—", meaning: "éŒ„éŸ³å¸¶ (ç¶“å…¸è©å½™)" },
        { kanji: "ãƒ†ãƒ¼ãƒ—ãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼", kana: "ãƒ†ãƒ¼ãƒ—ãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼", meaning: "éŒ„éŸ³æ©Ÿ" },
        { kanji: "ãƒ†ãƒ¬ãƒ“", kana: "ãƒ†ãƒ¬ãƒ“", meaning: "é›»è¦–" },
        { kanji: "ãƒ©ã‚¸ã‚ª", kana: "ãƒ©ã‚¸ã‚ª", meaning: "æ”¶éŸ³æ©Ÿ" },
        { kanji: "ã‚«ãƒ¡ãƒ©", kana: "ã‚«ãƒ¡ãƒ©", meaning: "ç›¸æ©Ÿ" },
        { kanji: "ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼", kana: "ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼", meaning: "é›»è…¦" },
        { kanji: "ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ", kana: "ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ", meaning: "å·§å…‹åŠ›" },
        { kanji: "ã‚³ãƒ¼ãƒ’ãƒ¼", kana: "ã‚³ãƒ¼ãƒ’ãƒ¼", meaning: "å’–å•¡" },
      ]}
    ],
    grammar: [
      {
        id: 1,
        title: "ã“ã‚Œ / ãã‚Œ / ã‚ã‚Œ ã¯ ï¼® ã§ã™",
        explanation: "æŒ‡ç¤ºä»£åè©ç•¶ä¸»è©ä½¿ç”¨ã€‚ã“ã‚Œ(è¿‘)ã€ãã‚Œ(ä¸­)ã€ã‚ã‚Œ(é )ã€‚",
        examples: [
          { jp: "ã“ã‚Œã¯è¾æ›¸ã§ã™ã€‚", cn: "é€™æ˜¯å­—å…¸ã€‚" },
          { jp: "ãã‚Œã¯ç§ã®å‚˜ã§ã™ã€‚", cn: "é‚£æŠŠæ˜¯æˆ‘çš„å‚˜ã€‚" },
          { jp: "ã‚ã‚Œã¯èª°ã®é„ã§ã™ã‹ã€‚", cn: "é‚£å€‹æ˜¯èª°çš„çš®åŒ…ï¼Ÿ" }
        ]
      },
      {
        id: 2,
        title: "ã“ã® / ãã® / ã‚ã® ï¼® ã¯ ï½ ã§ã™",
        explanation: "é€™äº›è©æ˜¯ã€Œé€£é«”è©ã€ï¼Œä¸èƒ½å–®ç¨ä½¿ç”¨ï¼Œå¾Œé¢å¿…é ˆæ¥åè©ã€‚",
        examples: [
          { jp: "ã“ã®æœ¬ã¯ç§ã®ã§ã™ã€‚", cn: "é€™æœ¬æ›¸æ˜¯æˆ‘çš„ã€‚" },
          { jp: "ãã®æ–¹ã¯ã©ãªãŸã§ã™ã‹ã€‚", cn: "é‚£ä½æ˜¯å“ªä½ï¼Ÿ" },
          { jp: "ã‚ã®æ–¹ã‚‚ä¼šç¤¾å“¡ã§ã™ã‹ã€‚", cn: "é‚£ä½ä¹Ÿæ˜¯å…¬å¸è·å“¡å—ï¼Ÿ" }
        ]
      },
      {
        id: 3,
        title: "ãã†ã§ã™ / ãã†ã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“",
        explanation: "å›ç­”åè©å¥çš„ç–‘å•å¥æ™‚ï¼Œè‚¯å®šç”¨ã€Œã¯ã„ã€ãã†ã§ã™ã€ï¼Œå¦å®šç”¨ã€Œã„ã„ãˆã€ãã†ã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“ã€æˆ–ã€Œã„ã„ãˆã€ã¡ãŒã„ã¾ã™ã€ã€‚",
        examples: [
          { jp: "A: ãã‚Œã¯è¾æ›¸ã§ã™ã‹ã€‚ B: ã¯ã„ã€ãã†ã§ã™ã€‚", cn: "A: é‚£æ˜¯å­—å…¸å—ï¼Ÿ B: æ˜¯çš„ï¼Œæ²’éŒ¯ã€‚" },
          { jp: "A: ãã‚Œã¯æ‰‹å¸³ã§ã™ã‹ã€‚ B: ã„ã„ãˆã€ã¡ãŒã„ã¾ã™ã€‚", cn: "A: é‚£æ˜¯è¨˜äº‹æœ¬å—ï¼Ÿ B: ä¸ï¼Œä¸æ˜¯ã€‚" }
        ]
      },
      {
        id: 4,
        title: "N1 ã® N2",
        explanation: "è¡¨ç¤ºæ‰€å±¬ï¼ˆèª°çš„ï¼‰ã€å…§å®¹ï¼ˆä»€éº¼çš„ï¼‰ç­‰é—œä¿‚ã€‚",
        examples: [
          { jp: "ã“ã‚Œã¯ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã®æœ¬ã§ã™ã€‚", cn: "é€™æ˜¯é›»è…¦ç›¸é—œçš„æ›¸ã€‚ï¼ˆå…§å®¹ï¼‰" },
          { jp: "ã“ã‚Œã¯ç§ã®æœ¬ã§ã™ã€‚", cn: "é€™æ˜¯æˆ‘çš„æ›¸ã€‚ï¼ˆæ‰€æœ‰è€…ï¼‰" }
        ]
      }
    ],
    quiz: [
      {
        question: "å¡«ç©ºï¼š (  ) ã»ã‚“ã¯ç§ã®ã§ã™ã€‚",
        options: ["ã“ã‚Œ", "ã“ã®", "ã“ã“", "ã“ã¡ã‚‰"],
        answer: "ã“ã®"
      },
      {
        question: "A: ã‚ã‚Œã¯é‰›ç­†ã§ã™ã‹ã€‚ B: ã„ã„ãˆã€(  )ã€‚",
        options: ["ãã†ã§ã™", "ã¡ãŒã„ã¾ã™", "é‰›ç­†ã§ã™", "ãƒšãƒ³ã§ã™"],
        answer: "ã¡ãŒã„ã¾ã™"
      },
      {
        question: "ã€Œé›œèªŒã€çš„æ—¥æ–‡è®€éŸ³æ˜¯ï¼Ÿ",
        options: ["ã–ã£ã—", "ã˜ã—ã‚‡", "ã—ã‚“ã¶ã‚“", "ã¦ã¡ã‚‡ã†"],
        answer: "ã–ã£ã—"
      },
      {
        question: "ã“ã‚Œ (  ) è¾æ›¸ã§ã™ã‹ã€‚",
        options: ["ã¯", "ã®", "ã‚‚", "ã‹"],
        answer: "ã¯"
      },
      {
        question: "A: ãã‚Œã¯ãªã‚“ã§ã™ã‹ã€‚ B: (  ) ã¯ååˆºã§ã™ã€‚",
        options: ["ã“ã‚Œ", "ãã‚Œ", "ã‚ã‚Œ", "ã©ã‚Œ"],
        answer: "ã“ã‚Œ"
      },
      {
        question: "é€™æ˜¯èª°çš„é›¨å‚˜ï¼Ÿ",
        options: ["ã“ã‚Œã¯èª°ã®å‚˜ã§ã™ã‹ã€‚", "ã“ã‚Œã¯ä½•ã®å‚˜ã§ã™ã‹ã€‚", "ã“ã‚Œã¯èª°ã§ã™ã‹ã€‚", "ã“ã‚Œã¯å‚˜ã§ã™ã‹ã€‚"],
        answer: "ã“ã‚Œã¯èª°ã®å‚˜ã§ã™ã‹ã€‚"
      },
      {
        question: "ã“ã®å‚˜ã¯ (  ) ã§ã™ã€‚",
        options: ["ç§", "ç§ã®", "ç§ã¯", "ç§ã‚’"],
        answer: "ç§ã®"
      },
      {
        question: "ã€Œè»Šã€çš„æ—¥æ–‡è®€éŸ³æ˜¯ï¼Ÿ",
        options: ["ãã‚‹ã¾", "ã˜ã¦ã‚“ã—ã‚ƒ", "ã§ã‚“ã—ã‚ƒ", "ã¤ããˆ"],
        answer: "ãã‚‹ã¾"
      },
      {
        question: "ç¿»è­¯ï¼šä¸ï¼Œé‚£ä¸æ˜¯æˆ‘çš„ã€‚",
        options: ["ã„ã„ãˆã€ãã‚Œã¯ç§ã®ã§ã™ã€‚", "ã„ã„ãˆã€ãã‚Œã¯ç§ã®ã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“ã€‚", "ã¯ã„ã€ãã‚Œã¯ç§ã®ã§ã™ã€‚", "ã„ã„ãˆã€ã“ã‚Œã¯ç§ã®ã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“ã€‚"],
        answer: "ã„ã„ãˆã€ãã‚Œã¯ç§ã®ã˜ã‚ƒã‚ã‚Šã¾ã›ã‚“ã€‚"
      }
    ]
  },
  {
    id: 3,
    title: "ç¬¬3èª²ï¼šå ´æ‰€èˆ‡ä½ç½®",
    description: "å­¸ç¿’å¦‚ä½•è¡¨é”åœ°é»ã€ä½ç½®ä»¥åŠåƒ¹æ ¼ã€‚",
    vocab: [
      { id: 1, kanji: "ã“ã“", kana: "ã“ã“", romaji: "koko", meaning: "é€™è£¡" },
      { id: 2, kanji: "ãã“", kana: "ãã“", romaji: "soko", meaning: "é‚£è£¡" },
      { id: 3, kanji: "ã‚ãã“", kana: "ã‚ãã“", romaji: "asoko", meaning: "é‚£è£¡ (é è™•)" },
      { id: 4, kanji: "ã©ã“", kana: "ã©ã“", romaji: "doko", meaning: "å“ªè£¡" },
      { id: 5, kanji: "ã“ã¡ã‚‰", kana: "ã“ã¡ã‚‰", romaji: "kochira", meaning: "é€™é‚Š (ç¦®è²Œå½¢)" },
      { id: 6, kanji: "æ•™å®¤", kana: "ãã‚‡ã†ã—ã¤", romaji: "kyoushitsu", meaning: "æ•™å®¤" },
      { id: 7, kanji: "é£Ÿå ‚", kana: "ã—ã‚‡ãã©ã†", romaji: "shokudou", meaning: "é¤å»³" },
      { id: 8, kanji: "äº‹å‹™æ‰€", kana: "ã˜ã‚€ã—ã‚‡", romaji: "jimusho", meaning: "è¾¦å…¬å®¤" },
      { id: 9, kanji: "ä¼šè­°å®¤", kana: "ã‹ã„ãã—ã¤", romaji: "kaigishitsu", meaning: "æœƒè­°å®¤" },
      { id: 10, kanji: "å—ä»˜", kana: "ã†ã‘ã¤ã‘", romaji: "uketsuke", meaning: "æ«ƒæª¯" },
      { id: 11, kanji: "éƒ¨å±‹", kana: "ã¸ã‚„", romaji: "heya", meaning: "æˆ¿é–“" },
      { id: 12, kanji: "ãƒˆã‚¤ãƒ¬", kana: "ãƒˆã‚¤ãƒ¬", romaji: "toire", meaning: "å»æ‰€" },
      { id: 13, kanji: "éšæ®µ", kana: "ã‹ã„ã ã‚“", romaji: "kaidan", meaning: "æ¨“æ¢¯" },
      { id: 14, kanji: "ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼", kana: "ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼", romaji: "erebe-ta-", meaning: "é›»æ¢¯" },
      { id: 15, kanji: "å›½", kana: "ãã«", romaji: "kuni", meaning: "åœ‹å®¶" },
      { id: 16, kanji: "ä¼šç¤¾", kana: "ã‹ã„ã—ã‚ƒ", romaji: "kaisha", meaning: "å…¬å¸" },
      { id: 17, kanji: "ã„ãã‚‰", kana: "ã„ãã‚‰", romaji: "ikura", meaning: "å¤šå°‘éŒ¢" },
    ],
    relatedVocab: [
      { id: 'r1', category: "ç™¾è²¨å…¬å¸èˆ‡æ¨“å±¤", list: [
        { kanji: "å£²ã‚Šå ´", kana: "ã†ã‚Šã°", meaning: "è³£å ´ / æ«ƒä½" },
        { kanji: "å±‹ä¸Š", kana: "ãŠãã˜ã‚‡ã†", meaning: "å±‹é ‚" },
        { kanji: "åœ°ä¸‹", kana: "ã¡ã‹", meaning: "åœ°ä¸‹" },
        { kanji: "ï¼‘éš", kana: "ã„ã£ã‹ã„", meaning: "ä¸€æ¨“" },
        { kanji: "ï¼’éš", kana: "ã«ã‹ã„", meaning: "äºŒæ¨“" },
        { kanji: "ï¼“éš", kana: "ã•ã‚“ãŒã„", meaning: "ä¸‰æ¨“ (æ³¨æ„ç™¼éŸ³)" },
        { kanji: "ï¼”éš", kana: "ã‚ˆã‚“ã‹ã„", meaning: "å››æ¨“" },
        { kanji: "ä½•éš", kana: "ãªã‚“ãŒã„", meaning: "å¹¾æ¨“ (æ³¨æ„ç™¼éŸ³)" },
      ]}
    ],
    grammar: [
      {
        id: 1,
        title: "ã“ã“ / ãã“ / ã‚ãã“ ã¯ ï¼® ã§ã™",
        explanation: "æŒ‡ç¤ºå ´æ‰€çš„ä»£åè©ã€‚é€™æ˜¯æŒ‡ç¤ºå ´æ‰€çš„ç”¨æ³•ã€‚",
        examples: [
          { jp: "ã“ã“ã¯æ•™å®¤ã§ã™ã€‚", cn: "é€™è£¡æ˜¯æ•™å®¤ã€‚" },
          { jp: "ãã“ã¯å—ä»˜ã§ã™ã‹ã€‚", cn: "é‚£è£¡æ˜¯æ«ƒæª¯å—ï¼Ÿ" },
          { jp: "ã‚ãã“ã¯ãƒˆã‚¤ãƒ¬ã§ã™ã€‚", cn: "é‚£è£¡æ˜¯å»æ‰€ã€‚" }
        ]
      },
      {
        id: 2,
        title: "ï¼® ã¯ å ´æ‰€ ã§ã™",
        explanation: "èªªæ˜äººæˆ–ç‰©é«”çš„æ‰€åœ¨åœ°ã€‚",
        examples: [
          { jp: "ãƒˆã‚¤ãƒ¬ã¯ã‚ãã“ã§ã™ã€‚", cn: "å»æ‰€åœ¨é‚£è£¡ã€‚" },
          { jp: "é›»è©±ã¯ã©ã“ã§ã™ã‹ã€‚", cn: "é›»è©±åœ¨å“ªè£¡ï¼Ÿ" },
          { jp: "ãƒŸãƒ©ãƒ¼ã•ã‚“ã¯äº‹å‹™æ‰€ã§ã™ã€‚", cn: "ç±³å‹’å…ˆç”Ÿåœ¨è¾¦å…¬å®¤ã€‚" }
        ]
      },
      {
        id: 3,
        title: "ï¼® ã® ï¼® (ç”¢åœ°/è£½é€ å•†)",
        explanation: "åè©1è‹¥æ˜¯åœ‹å®¶æˆ–å…¬å¸åï¼Œè¡¨ç¤ºç”¢åœ°æˆ–å“ç‰Œã€‚",
        examples: [
          { jp: "ã“ã‚Œã¯æ—¥æœ¬ã®è»Šã§ã™ã€‚", cn: "é€™æ˜¯æ—¥æœ¬çš„è»Šã€‚" },
          { jp: "ã“ã‚Œã¯ã‚½ãƒ‹ãƒ¼ã®ãƒ†ãƒ¬ãƒ“ã§ã™ã€‚", cn: "é€™æ˜¯Sonyçš„é›»è¦–ã€‚" }
        ]
      }
    ],
    quiz: [
      {
        question: "æƒ³å•ã€Œé›»è©±åœ¨å“ªè£¡ã€æ™‚ï¼Œæ­£ç¢ºèªªæ³•æ˜¯ï¼Ÿ",
        options: ["é›»è©±ã¯ã©ã“ã§ã™ã‹ã€‚", "é›»è©±ã¯ã ã‚Œã§ã™ã‹ã€‚", "é›»è©±ã¯ãªã‚“ã§ã™ã‹ã€‚", "é›»è©±ã¯ã©ã‚Œã§ã™ã‹ã€‚"],
        answer: "é›»è©±ã¯ã©ã“ã§ã™ã‹ã€‚"
      },
      {
        question: "å¡«ç©ºï¼šé£Ÿå ‚ã¯ (  ) ã§ã™ã€‚(æŒ‡é è™•)",
        options: ["ã“ã“", "ãã“", "ã‚ãã“", "ã©ã“"],
        answer: "ã‚ãã“"
      },
      {
        question: "ã€Œä¸‰æ¨“ã€çš„æ—¥æ–‡è®€éŸ³æ˜¯ï¼Ÿ",
        options: ["ã•ã‚“ã‹ã„", "ã•ã‚“ãŒã„", "ã¿ã£ã‹ã„", "ã¿ã£ãŒã„"],
        answer: "ã•ã‚“ãŒã„"
      },
      {
        question: "äº‹å‹™æ‰€ã¯ (  ) ã§ã™ã‹ã€‚",
        options: ["ã©ã¡ã‚‰", "ã ã‚Œ", "ã©ã‚Œ", "ãªã‚“"],
        answer: "ã©ã¡ã‚‰"
      },
      {
        question: "ç¿»è­¯ï¼šé€™è£¡æ˜¯é£Ÿå ‚ã€‚",
        options: ["ã“ã“ã¯é£Ÿå ‚ã§ã™ã€‚", "é£Ÿå ‚ã¯ã“ã“ã§ã™ã€‚", "ã‚ãã“ã¯é£Ÿå ‚ã§ã™ã€‚", "ã“ã‚Œã¯é£Ÿå ‚ã§ã™ã€‚"],
        answer: "ã“ã“ã¯é£Ÿå ‚ã§ã™ã€‚"
      },
      {
        question: "A: ãã®ãƒ¯ã‚¤ãƒ³ã¯ (  ) ã®ã§ã™ã‹ã€‚ B: ãƒ•ãƒ©ãƒ³ã‚¹ã®ã§ã™ã€‚",
        options: ["ã©ã“", "ã ã‚Œ", "ãªã‚“", "ã„ãã‚‰"],
        answer: "ã©ã“"
      },
      {
        question: "é€™æ¢é ˜å¸¶å¤šå°‘éŒ¢ï¼Ÿ",
        options: ["ã“ã®ãƒã‚¯ã‚¿ã‚¤ã¯ã„ãã‚‰ã§ã™ã‹ã€‚", "ãã®ãƒã‚¯ã‚¿ã‚¤ã¯ã„ãã‚‰ã§ã™ã‹ã€‚", "ã‚ã®ãƒã‚¯ã‚¿ã‚¤ã¯ã„ãã‚‰ã§ã™ã‹ã€‚", "ã©ã®ãƒã‚¯ã‚¿ã‚¤ã¯ã„ãã‚‰ã§ã™ã‹ã€‚"],
        answer: "ã“ã®ãƒã‚¯ã‚¿ã‚¤ã¯ã„ãã‚‰ã§ã™ã‹ã€‚"
      },
      {
        question: "ã€Œåœ°ä¸‹ã€çš„æ—¥æ–‡è®€éŸ³æ˜¯ï¼Ÿ",
        options: ["ã¡ã‹", "ã¡ã—ãŸ", "ã˜ã’", "ã˜ã‹"],
        answer: "ã¡ã‹"
      },
      {
        question: "ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼ã¯ (  ) ã§ã™ã€‚",
        options: ["ã‚ã¡ã‚‰", "ã‚ã‚Œ", "ã‚ã®", "ã‚ãã“ã¸"],
        answer: "ã‚ã¡ã‚‰"
      }
    ]
  },
  {
    id: 4,
    title: "ç¬¬4èª²ï¼šæ™‚é–“èˆ‡å‹•è©",
    description: "å­¸ç¿’è¡¨é”æ™‚é–“ï¼Œä»¥åŠå‹•è©çš„ç¾åœ¨ã€éå»ã€è‚¯å®šèˆ‡å¦å®šå½¢ã€‚",
    vocab: [
      { id: 1, kanji: "èµ·ãã¾ã™", kana: "ãŠãã¾ã™", romaji: "okimasu", meaning: "èµ·åºŠ" },
      { id: 2, kanji: "å¯ã¾ã™", kana: "ã­ã¾ã™", romaji: "nemasu", meaning: "ç¡è¦º" },
      { id: 3, kanji: "åƒãã¾ã™", kana: "ã¯ãŸã‚‰ãã¾ã™", romaji: "hatarakimasu", meaning: "å·¥ä½œ" },
      { id: 4, kanji: "ä¼‘ã¿ã¾ã™", kana: "ã‚„ã™ã¿ã¾ã™", romaji: "yasumimasu", meaning: "ä¼‘æ¯" },
      { id: 5, kanji: "å‹‰å¼·ã—ã¾ã™", kana: "ã¹ã‚“ãã‚‡ã†ã—ã¾ã™", romaji: "benkyoushimasu", meaning: "å”¸æ›¸/å­¸ç¿’" },
      { id: 6, kanji: "çµ‚ã‚ã‚Šã¾ã™", kana: "ãŠã‚ã‚Šã¾ã™", romaji: "owarimasu", meaning: "çµæŸ" },
      { id: 7, kanji: "ãƒ‡ãƒ‘ãƒ¼ãƒˆ", kana: "ãƒ‡ãƒ‘ãƒ¼ãƒˆ", romaji: "depa-to", meaning: "ç™¾è²¨å…¬å¸" },
      { id: 8, kanji: "éŠ€è¡Œ", kana: "ãã‚“ã“ã†", romaji: "ginkou", meaning: "éŠ€è¡Œ" },
      { id: 9, kanji: "éƒµä¾¿å±€", kana: "ã‚†ã†ã³ã‚“ãã‚‡ã", romaji: "yuubinkyoku", meaning: "éƒµå±€" },
      { id: 10, kanji: "å›³æ›¸é¤¨", kana: "ã¨ã—ã‚‡ã‹ã‚“", romaji: "toshokan", meaning: "åœ–æ›¸é¤¨" },
      { id: 11, kanji: "ä»Š", kana: "ã„ã¾", romaji: "ima", meaning: "ç¾åœ¨" },
      { id: 12, kanji: "ï½æ™‚", kana: "ï½ã˜", romaji: "~ji", meaning: "ï½é»" },
      { id: 13, kanji: "ï½åˆ†", kana: "ï½ãµã‚“/ã·ã‚“", romaji: "~fun/pun", meaning: "ï½åˆ†" },
      { id: 14, kanji: "æ˜¨æ—¥", kana: "ãã®ã†", romaji: "kinou", meaning: "æ˜¨å¤©" },
      { id: 15, kanji: "ä»Šæ—¥", kana: "ãã‚‡ã†", romaji: "kyou", meaning: "ä»Šå¤©" },
      { id: 16, kanji: "æ˜æ—¥", kana: "ã‚ã—ãŸ", romaji: "ashita", meaning: "æ˜å¤©" },
    ],
    relatedVocab: [
      { id: 'r1', category: "å‹•è©ãƒ»æ™‚é–“é—œè¯", list: [
        { kanji: "è©¦é¨“", kana: "ã—ã‘ã‚“", meaning: "è€ƒè©¦" },
        { kanji: "ä¼šè­°", kana: "ã‹ã„ã", meaning: "æœƒè­°" },
        { kanji: "æ˜ ç”»", kana: "ãˆã„ãŒ", meaning: "é›»å½±" },
        { kanji: "æ¯æœ", kana: "ã¾ã„ã‚ã•", meaning: "æ¯å¤©æ—©ä¸Š" },
        { kanji: "æ¯æ™©", kana: "ã¾ã„ã°ã‚“", meaning: "æ¯å¤©æ™šä¸Š" },
        { kanji: "æ¯æ—¥", kana: "ã¾ã„ã«ã¡", meaning: "æ¯å¤©" },
        { kanji: "å¤§å¤‰ã§ã™ã­", kana: "ãŸã„ã¸ã‚“ã§ã™ã­", meaning: "çœŸæ˜¯è¾›è‹¦å‘¢ (è¡¨ç¤ºåŒæƒ…)" },
      ]}
    ],
    grammar: [
      {
        id: 1,
        title: "ä»Š ï½æ™‚ï½åˆ† ã§ã™",
        explanation: "è©¢å•æˆ–å›ç­”ç¾åœ¨çš„æ™‚é–“ã€‚",
        examples: [
          { jp: "ä»Š 4æ™‚5åˆ†ã§ã™ã€‚", cn: "ç¾åœ¨æ˜¯4é»5åˆ†ã€‚" },
          { jp: "ä»Š 9æ™‚åŠã§ã™ã€‚", cn: "ç¾åœ¨æ˜¯9é»åŠã€‚" },
          { jp: "ãƒ­ãƒ³ãƒ‰ãƒ³ã¯ä»Š ä½•æ™‚ã§ã™ã‹ã€‚", cn: "å€«æ•¦ç¾åœ¨å¹¾é»ï¼Ÿ" }
        ]
      },
      {
        id: 2,
        title: "Vã¾ã™ / Vã¾ã›ã‚“ / Vã¾ã—ãŸ / Vã¾ã›ã‚“ã§ã—ãŸ",
        explanation: "å‹•è©çš„æ™‚æ…‹è®ŠåŒ–ï¼šç¾åœ¨è‚¯å®š(ã¾ã™)ã€ç¾åœ¨å¦å®š(ã¾ã›ã‚“)ã€éå»è‚¯å®š(ã¾ã—ãŸ)ã€éå»å¦å®š(ã¾ã›ã‚“ã§ã—ãŸ)ã€‚",
        examples: [
          { jp: "ç§ã¯æ¯æ—¥å‹‰å¼·ã—ã¾ã™ã€‚", cn: "æˆ‘æ¯å¤©å”¸æ›¸ã€‚" },
          { jp: "ç§ã¯æ˜æ—¥åƒãã¾ã›ã‚“ã€‚", cn: "æˆ‘æ˜å¤©ä¸å·¥ä½œã€‚" },
          { jp: "ç§ã¯æ˜¨æ—¥å‹‰å¼·ã—ã¾ã—ãŸã€‚", cn: "æˆ‘æ˜¨å¤©å”¸æ›¸äº†ã€‚" },
          { jp: "ç§ã¯æ˜¨æ—¥åƒãã¾ã›ã‚“ã§ã—ãŸã€‚", cn: "æˆ‘æ˜¨å¤©æ²’å·¥ä½œã€‚" }
        ]
      },
      {
        id: 3,
        title: "N(æ™‚é–“) ã« V",
        explanation: "åœ¨ç‰¹å®šçš„æ™‚é–“é»åšæŸå‹•ä½œï¼Œæ™‚é–“åè©å¾ŒåŠ åŠ©è©ã€Œã«ã€ã€‚",
        examples: [
          { jp: "ç§ã¯6æ™‚ã«èµ·ãã¾ã™ã€‚", cn: "æˆ‘6é»èµ·åºŠã€‚" },
          { jp: "7æœˆ2æ—¥ã«æ—¥æœ¬ã¸è¡Œãã¾ã™ã€‚", cn: "7æœˆ2æ—¥å»æ—¥æœ¬ã€‚" }
        ]
      }
    ],
    quiz: [
      {
        question: "é¸æ“‡æ­£ç¢ºåŠ©è©ï¼šæ¯æœ 6æ™‚ (  ) èµ·ãã¾ã™ã€‚",
        options: ["ã«", "ã¯", "ã‚’", "ã§"],
        answer: "ã«"
      },
      {
        question: "å°‡ã€Œå‹‰å¼·ã—ã¾ã™ã€æ”¹ç‚ºéå»å¦å®šå½¢ï¼š",
        options: ["å‹‰å¼·ã—ã¾ã›ã‚“", "å‹‰å¼·ã—ã¾ã—ãŸ", "å‹‰å¼·ã—ã¾ã›ã‚“ã§ã—ãŸ", "å‹‰å¼·ã—ã¾ã—ã‚‡ã†"],
        answer: "å‹‰å¼·ã—ã¾ã›ã‚“ã§ã—ãŸ"
      },
      {
        question: "ç¿»è­¯ï¼šæ˜¨å¤©10é»ç¡è¦ºã€‚",
        options: ["æ˜æ—¥10æ™‚ã«å¯ã¾ã™ã€‚", "æ˜¨æ—¥10æ™‚ã«å¯ã¾ã™ã€‚", "æ˜¨æ—¥10æ™‚ã«å¯ã¾ã—ãŸã€‚", "æ˜¨æ—¥10æ™‚ã‚’å¯ã¾ã—ãŸã€‚"],
        answer: "æ˜¨æ—¥10æ™‚ã«å¯ã¾ã—ãŸã€‚"
      },
      {
        question: "ä»Š 4æ™‚ (  ) ã§ã™ã€‚",
        options: ["åŠ", "åŠåˆ†", "ä¸­", "é–“"],
        answer: "åŠ"
      },
      {
        question: "æ˜¼12æ™‚ (  ) 1æ™‚ã¾ã§ ä¼‘ã¿ã¾ã™ã€‚",
        options: ["ã‹ã‚‰", "ã¾ã§", "ã¸", "ã«"],
        answer: "ã‹ã‚‰"
      },
      {
        question: "ã€Œå¾Œå¤©ã€çš„æ—¥æ–‡æ˜¯ï¼Ÿ",
        options: ["ã‚ã•ã£ã¦", "ã‚ã—ãŸ", "ãŠã¨ã¨ã„", "ãã®ã†"],
        answer: "ã‚ã•ã£ã¦"
      },
      {
        question: "æ˜¨æ—¥ å‹‰å¼· (  ) ã‹ã€‚",
        options: ["ã—ã¾ã—ãŸ", "ã—ã¾ã™", "ã—ã¾ã›ã‚“", "ã—ã¾ã—ã‚‡ã†"],
        answer: "ã—ã¾ã—ãŸ"
      },
      {
        question: "éƒµä¾¿å±€ã¯ä½•æ™‚ (  ) ä½•æ™‚ã¾ã§ã§ã™ã‹ã€‚",
        options: ["ã‹ã‚‰", "ã¾ã§", "ã«", "ã¸"],
        answer: "ã‹ã‚‰"
      },
      {
        question: "æ¯æœ (  ) èµ·ãã¾ã™ã‹ã€‚",
        options: ["ä½•æ™‚", "ä½•åˆ†", "ä½•", "ã„ã¤"],
        answer: "ä½•æ™‚"
      }
    ]
  },
  {
    id: 5,
    title: "ç¬¬5èª²ï¼šç§»å‹•èˆ‡äº¤é€šå·¥å…·",
    description: "å­¸ç¿’ã€Œå»ã€ä¾†ã€å›ã€çš„ç§»å‹•å‹•è©ï¼Œä»¥åŠäº¤é€šå·¥å…·çš„ç”¨æ³•ã€‚",
    vocab: [
      { id: 1, kanji: "è¡Œãã¾ã™", kana: "ã„ãã¾ã™", romaji: "ikimasu", meaning: "å»" },
      { id: 2, kanji: "æ¥ã¾ã™", kana: "ãã¾ã™", romaji: "kimasu", meaning: "ä¾†" },
      { id: 3, kanji: "å¸°ã‚Šã¾ã™", kana: "ã‹ãˆã‚Šã¾ã™", romaji: "kaerimasu", meaning: "å›å®¶/å›å»" },
      { id: 4, kanji: "å­¦æ ¡", kana: "ãŒã£ã“ã†", romaji: "gakkou", meaning: "å­¸æ ¡" },
      { id: 5, kanji: "ã‚¹ãƒ¼ãƒ‘ãƒ¼", kana: "ã‚¹ãƒ¼ãƒ‘ãƒ¼", romaji: "su-pa-", meaning: "è¶…å¸‚" },
      { id: 6, kanji: "é§…", kana: "ãˆã", romaji: "eki", meaning: "è»Šç«™" },
      { id: 7, kanji: "é£›è¡Œæ©Ÿ", kana: "ã²ã“ã†ã", romaji: "hikouki", meaning: "é£›æ©Ÿ" },
      { id: 8, kanji: "èˆ¹", kana: "ãµã­", romaji: "fune", meaning: "èˆ¹" },
      { id: 9, kanji: "é›»è»Š", kana: "ã§ã‚“ã—ã‚ƒ", romaji: "densha", meaning: "é›»è»Š" },
      { id: 10, kanji: "åœ°ä¸‹é‰„", kana: "ã¡ã‹ã¦ã¤", romaji: "chikatetsu", meaning: "åœ°ä¸‹éµ" },
      { id: 11, kanji: "æ–°å¹¹ç·š", kana: "ã—ã‚“ã‹ã‚“ã›ã‚“", romaji: "shinkansen", meaning: "æ–°å¹¹ç·š" },
      { id: 12, kanji: "ãƒã‚¹", kana: "ãƒã‚¹", romaji: "basu", meaning: "å…¬è»Š" },
      { id: 13, kanji: "ã‚¿ã‚¯ã‚·ãƒ¼", kana: "ã‚¿ã‚¯ã‚·ãƒ¼", romaji: "takushi-", meaning: "è¨ˆç¨‹è»Š" },
      { id: 14, kanji: "æ­©ã„ã¦", kana: "ã‚ã‚‹ã„ã¦", romaji: "aruite", meaning: "æ­¥è¡Œ" },
      { id: 15, kanji: "å‹é”", kana: "ã¨ã‚‚ã ã¡", romaji: "tomodachi", meaning: "æœ‹å‹" },
    ],
    relatedVocab: [
      { id: 'r1', category: "æ—¥å­èˆ‡ç¯€æ—¥", list: [
        { kanji: "ç¥æ—¥", kana: "ã—ã‚…ãã˜ã¤", meaning: "ç¯€æ—¥ / åœ‹å®šå‡æ—¥" },
        { kanji: "èª•ç”Ÿæ—¥", kana: "ãŸã‚“ã˜ã‚‡ã†ã³", meaning: "ç”Ÿæ—¥" },
        { kanji: "ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¦ã‚£ãƒ¼ã‚¯", kana: "ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¦ã‚£ãƒ¼ã‚¯", meaning: "é»ƒé‡‘é€± (GW)" },
        { kanji: "ã‚¯ãƒªã‚¹ãƒã‚¹", kana: "ã‚¯ãƒªã‚¹ãƒã‚¹", meaning: "è–èª•ç¯€" },
        { kanji: "ãŠæ­£æœˆ", kana: "ãŠã—ã‚‡ã†ãŒã¤", meaning: "æ–°å¹´" },
        { kanji: "å…ˆé€±", kana: "ã›ã‚“ã—ã‚…ã†", meaning: "ä¸Šé€±" },
        { kanji: "ä»Šé€±", kana: "ã“ã‚“ã—ã‚…ã†", meaning: "æœ¬é€±" },
        { kanji: "æ¥é€±", kana: "ã‚‰ã„ã—ã‚…ã†", meaning: "ä¸‹é€±" },
      ]}
    ],
    grammar: [
      {
        id: 1,
        title: "N(å ´æ‰€) ã¸ è¡Œãã¾ã™/æ¥ã¾ã™/å¸°ã‚Šã¾ã™",
        explanation: "è¡¨ç¤ºç§»å‹•çš„æ–¹å‘ï¼ŒåŠ©è©ã€Œã¸ã€è®€ä½œã€Œeã€ã€‚",
        examples: [
          { jp: "äº¬éƒ½ã¸è¡Œãã¾ã™ã€‚", cn: "å»äº¬éƒ½ã€‚" },
          { jp: "æ—¥æœ¬ã¸æ¥ã¾ã—ãŸã€‚", cn: "ä¾†äº†æ—¥æœ¬ã€‚" },
          { jp: "ã†ã¡ã¸å¸°ã‚Šã¾ã™ã€‚", cn: "å›å®¶ã€‚" },
          { jp: "ã©ã“ã¸ã‚‚è¡Œãã¾ã›ã‚“ã€‚", cn: "å“ªè£¡éƒ½ä¸å»ã€‚(å…¨é¢å¦å®š)" }
        ]
      },
      {
        id: 2,
        title: "N(äº¤é€šå·¥å…·) ã§ è¡Œãã¾ã™/æ¥ã¾ã™/å¸°ã‚Šã¾ã™",
        explanation: "è¡¨ç¤ºç§»å‹•çš„æ‰‹æ®µ/æ–¹æ³•ï¼ŒåŠ©è©ç”¨ã€Œã§ã€ã€‚ä½†ã€Œèµ°è·¯ã€ç”¨ã€Œæ­©ã„ã¦ã€ä¸ç”¨åŠ©è©ã€Œã§ã€ã€‚",
        examples: [
          { jp: "é›»è»Šã§è¡Œãã¾ã™ã€‚", cn: "æ­é›»è»Šå»ã€‚" },
          { jp: "ã‚¿ã‚¯ã‚·ãƒ¼ã§æ¥ã¾ã—ãŸã€‚", cn: "æ­è¨ˆç¨‹è»Šä¾†çš„ã€‚" },
          { jp: "é§…ã‹ã‚‰æ­©ã„ã¦å¸°ã‚Šã¾ã—ãŸã€‚", cn: "å¾è»Šç«™èµ°è·¯å›å®¶çš„ã€‚" }
        ]
      },
      {
        id: 3,
        title: "N(äºº/å‹•ç‰©) ã¨ V",
        explanation: "è¡¨ç¤ºå‹•ä½œçš„å…±åŒåŸ·è¡Œè€…ï¼ˆå’Œèª°ä¸€èµ·ï¼‰ï¼ŒåŠ©è©ç”¨ã€Œã¨ã€ã€‚",
        examples: [
          { jp: "å®¶æ—ã¨æ—¥æœ¬ã¸æ¥ã¾ã—ãŸã€‚", cn: "å’Œå®¶äººä¾†äº†æ—¥æœ¬ã€‚" },
          { jp: "ä¸€äººã§è¡Œãã¾ã™ã€‚", cn: "ä¸€å€‹äººå»ã€‚(ä¸€äººã§ ä¸åŠ  ã¨)" }
        ]
      }
    ],
    quiz: [
      {
        question: "é¸æ“‡æ­£ç¢ºåŠ©è©ï¼šä¼šç¤¾ (  ) è¡Œãã¾ã™ã€‚",
        options: ["ã‚’", "ã¸", "ã§", "ã¨"],
        answer: "ã¸"
      },
      {
        question: "é¸æ“‡æ­£ç¢ºåŠ©è©ï¼šãƒã‚¹ (  ) å¸°ã‚Šã¾ã™ã€‚",
        options: ["ã§", "ã«", "ã¸", "ã‚’"],
        answer: "ã§"
      },
      {
        question: "ç¿»è­¯ï¼šä¸€å€‹äººå»ã€‚",
        options: ["ä¸€äººã¨è¡Œãã¾ã™", "ä¸€äººã§è¡Œãã¾ã™", "ä¸€äººã¸è¡Œãã¾ã™", "ä¸€äººã«è¡Œãã¾ã™"],
        answer: "ä¸€äººã§è¡Œãã¾ã™"
      },
      {
        question: "æ˜¨æ—¥ ã©ã“ (  ) è¡Œãã¾ã›ã‚“ã§ã—ãŸã€‚",
        options: ["ã¸ã‚‚", "ã¸", "ã«", "ã§ã‚‚"],
        answer: "ã¸ã‚‚"
      },
      {
        question: "èª° (  ) æ—¥æœ¬ã¸æ¥ã¾ã—ãŸã‹ã€‚",
        options: ["ã¨", "ã§", "ã¸", "ã‚’"],
        answer: "ã¨"
      },
      {
        question: "A: ã„ã¤ æ—¥æœ¬ã¸æ¥ã¾ã—ãŸã‹ã€‚ B: 3æœˆ25æ—¥ (  ) æ¥ã¾ã—ãŸã€‚",
        options: ["ã«", "ã§", "ã¸", "ã‚’"],
        answer: "ã«"
      },
      {
        question: "æ­¥è¡Œå›å®¶çš„æ—¥æ–‡æ˜¯ï¼Ÿ",
        options: ["æ­©ã„ã¦å¸°ã‚Šã¾ã™", "æ­©ãã§å¸°ã‚Šã¾ã™", "æ­©ã„ã¦ã§å¸°ã‚Šã¾ã™", "æ•£æ­©ã—ã¾ã™"],
        answer: "æ­©ã„ã¦å¸°ã‚Šã¾ã™"
      },
      {
        question: "ã€Œä¸‹é€±ã€çš„æ—¥æ–‡æ˜¯ï¼Ÿ",
        options: ["æ¥é€±", "ä»Šé€±", "å…ˆé€±", "æ¯é€±"],
        answer: "æ¥é€±"
      },
      {
        question: "ã€Œé£›æ©Ÿã€çš„æ—¥æ–‡è®€éŸ³æ˜¯ï¼Ÿ",
        options: ["ã²ã“ã†ã", "ã²ã“ã", "ã—ã‚“ã‹ã‚“ã›ã‚“", "ã¡ã‹ã¦ã¤"],
        answer: "ã²ã“ã†ã"
      }
    ]
  },
  {
    id: 6,
    title: "ç¬¬6èª²ï¼šä»–å‹•è©èˆ‡é‚€ç´„",
    description: "å­¸ç¿’ã€Œåƒã€å–ã€çœ‹ã€ç­‰å‹•ä½œå°è±¡çš„è¡¨é”ï¼Œä»¥åŠé‚€ç´„ä»–äººåšæŸäº‹ã€‚",
    vocab: [
      { id: 1, kanji: "é£Ÿã¹ã¾ã™", kana: "ãŸã¹ã¾ã™", romaji: "tabemasu", meaning: "åƒ" },
      { id: 2, kanji: "é£²ã¿ã¾ã™", kana: "ã®ã¿ã¾ã™", romaji: "nomimasu", meaning: "å–" },
      { id: 3, kanji: "å¸ã„ã¾ã™", kana: "ã™ã„ã¾ã™", romaji: "suimasu", meaning: "å¸ (è¸)" },
      { id: 4, kanji: "è¦‹ã¾ã™", kana: "ã¿ã¾ã™", romaji: "mimasu", meaning: "çœ‹" },
      { id: 5, kanji: "èª­ã¿ã¾ã™", kana: "ã‚ˆã¿ã¾ã™", romaji: "yomimasu", meaning: "é–±è®€" },
      { id: 6, kanji: "è²·ã„ã¾ã™", kana: "ã‹ã„ã¾ã™", romaji: "kaimasu", meaning: "è²·" },
      { id: 7, kanji: "æ’®ã‚Šã¾ã™", kana: "ã¨ã‚Šã¾ã™", romaji: "torimasu", meaning: "æ‹ (ç…§)" },
      { id: 8, kanji: "ä¼šã„ã¾ã™", kana: "ã‚ã„ã¾ã™", romaji: "aimasu", meaning: "è¦‹é¢" },
      { id: 9, kanji: "ã”é£¯", kana: "ã”ã¯ã‚“", romaji: "gohan", meaning: "é£¯ / é¤é»" },
      { id: 10, kanji: "ãƒ‘ãƒ³", kana: "ãƒ‘ãƒ³", romaji: "pan", meaning: "éºµåŒ…" },
      { id: 11, kanji: "æ°´", kana: "ã¿ãš", romaji: "mizu", meaning: "æ°´" },
      { id: 12, kanji: "å†™çœŸ", kana: "ã—ã‚ƒã—ã‚“", romaji: "shashin", meaning: "ç…§ç‰‡" },
    ],
    relatedVocab: [
      { id: 'r1', category: "é£Ÿç‰©èˆ‡èœå–® (Menu)", list: [
        { kanji: "æœã”ã¯ã‚“", kana: "ã‚ã•ã”ã¯ã‚“", meaning: "æ—©é¤" },
        { kanji: "æ˜¼ã”ã¯ã‚“", kana: "ã²ã‚‹ã”ã¯ã‚“", meaning: "åˆé¤" },
        { kanji: "æ™©ã”ã¯ã‚“", kana: "ã°ã‚“ã”ã¯ã‚“", meaning: "æ™šé¤" },
        { kanji: "åµ", kana: "ãŸã¾ã”", meaning: "è›‹" },
        { kanji: "è‚‰", kana: "ã«ã", meaning: "è‚‰" },
        { kanji: "é­š", kana: "ã•ã‹ãª", meaning: "é­š" },
        { kanji: "é‡èœ", kana: "ã‚„ã•ã„", meaning: "è”¬èœ" },
        { kanji: "æœç‰©", kana: "ãã ã‚‚ã®", meaning: "æ°´æœ" },
        { kanji: "ç‰›ä¹³", kana: "ãã‚…ã†ã«ã‚…ã†", meaning: "ç‰›å¥¶" },
        { kanji: "ãŠèŒ¶", kana: "ãŠã¡ã‚ƒ", meaning: "èŒ¶ / æ—¥æœ¬èŒ¶" },
        { kanji: "ãŠé…’", kana: "ãŠã•ã‘", meaning: "é…’" },
      ]}
    ],
    grammar: [
      {
        id: 1,
        title: "N ã‚’ V(ä»–å‹•è©)",
        explanation: "è¡¨ç¤ºå‹•ä½œçš„å°è±¡ï¼ˆå—è©ï¼‰ï¼ŒåŠ©è©ç”¨ã€Œã‚’ã€(è®€ä½œ o)ã€‚",
        examples: [
          { jp: "ã‚¸ãƒ¥ãƒ¼ã‚¹ã‚’é£²ã¿ã¾ã™ã€‚", cn: "å–æœæ±ã€‚" },
          { jp: "é­šã‚’é£Ÿã¹ã¾ã™ã€‚", cn: "åƒé­šã€‚" },
          { jp: "æœ¬ã‚’èª­ã¿ã¾ã™ã€‚", cn: "çœ‹æ›¸ã€‚" }
        ]
      },
      {
        id: 2,
        title: "N(å ´æ‰€) ã§ V",
        explanation: "è¡¨ç¤ºå‹•ä½œé€²è¡Œçš„å ´æ‰€ï¼ŒåŠ©è©ç”¨ã€Œã§ã€ã€‚æ³¨æ„èˆ‡å­˜åœ¨çš„å ´æ‰€ã€Œã«ã€å€åˆ†ã€‚",
        examples: [
          { jp: "å›³æ›¸é¤¨ã§æœ¬ã‚’èª­ã¿ã¾ã™ã€‚", cn: "åœ¨åœ–æ›¸é¤¨çœ‹æ›¸ã€‚" },
          { jp: "é§…ã§æ–°èã‚’è²·ã„ã¾ã™ã€‚", cn: "åœ¨è»Šç«™è²·å ±ç´™ã€‚" }
        ]
      },
      {
        id: 3,
        title: "Vã¾ã›ã‚“ã‹ (é‚€ç´„)",
        explanation: "ç¦®è²Œåœ°å‹¸èª˜æˆ–é‚€ç´„è½è©±è€…ã€‚æ¯”ã€ŒVã¾ã—ã‚‡ã†ã€æ›´å®¢æ°£ï¼Œçµ¦äºˆå°æ–¹æ‹’çµ•çš„é¤˜åœ°ã€‚",
        examples: [
          { jp: "ä¸€ç·’ã«äº¬éƒ½ã¸è¡Œãã¾ã›ã‚“ã‹ã€‚", cn: "è¦ä¸è¦ä¸€èµ·å»äº¬éƒ½ï¼Ÿ" },
          { jp: "æ—¥æ›œæ—¥ã«æ˜ ç”»ã‚’è¦‹ã¾ã›ã‚“ã‹ã€‚", cn: "æ˜ŸæœŸå¤©è¦ä¸è¦çœ‹é›»å½±ï¼Ÿ" }
        ]
      },
      {
        id: 4,
        title: "Vã¾ã—ã‚‡ã† (æè­°)",
        explanation: "ç©æ¥µåœ°æè­°åšæŸäº‹ï¼Œæˆ–è€…ç­”æ‡‰å°æ–¹çš„é‚€ç´„æ™‚ä½¿ç”¨ã€‚",
        examples: [
          { jp: "ã¡ã‚‡ã£ã¨ä¼‘ã¿ã¾ã—ã‚‡ã†ã€‚", cn: "ç¨å¾®ä¼‘æ¯ä¸€ä¸‹å§ã€‚" },
          { jp: "A: ä¸€ç·’ã«é£Ÿã¹ã¾ã›ã‚“ã‹ã€‚ B: ãˆãˆã€é£Ÿã¹ã¾ã—ã‚‡ã†ã€‚", cn: "A: è¦ä¸è¦ä¸€èµ·åƒï¼Ÿ B: å¥½å•Šï¼Œä¸€èµ·åƒå§ã€‚" }
        ]
      }
    ],
    quiz: [
      {
        question: "é¸æ“‡æ­£ç¢ºåŠ©è©ï¼šæ°´ (  ) é£²ã¿ã¾ã™ã€‚",
        options: ["ã‚’", "ã§", "ã«", "ãŒ"],
        answer: "ã‚’"
      },
      {
        question: "é¸æ“‡æ­£ç¢ºåŠ©è©ï¼šãƒ‡ãƒ‘ãƒ¼ãƒˆ (  ) é´ã‚’è²·ã„ã¾ã—ãŸã€‚(å‹•ä½œå ´æ‰€)",
        options: ["ã«", "ã§", "ã¸", "ã‚’"],
        answer: "ã§"
      },
      {
        question: "ç¿»è­¯ï¼šè¦ä¸è¦ä¸€èµ·å»ï¼Ÿ",
        options: ["ä¸€ç·’ã« è¡Œãã¾ã™ã‹ã€‚", "ä¸€ç·’ã« è¡Œãã¾ã›ã‚“ã‹ã€‚", "ä¸€ç·’ã« è¡Œãã¾ã—ã‚‡ã†ã€‚", "ä¸€ç·’ã« è¡Œã£ã¦ãã ã•ã„ã€‚"],
        answer: "ä¸€ç·’ã« è¡Œãã¾ã›ã‚“ã‹ã€‚"
      },
      {
        question: "å‹é” (  ) ä¼šã„ã¾ã™ã€‚",
        options: ["ã«", "ã‚’", "ã¸", "ã§"],
        answer: "ã«"
      },
      {
        question: "A: ä¸€ç·’ã«é£Ÿã¹ã¾ã›ã‚“ã‹ã€‚ B: ãˆãˆã€(  )ã€‚",
        options: ["é£Ÿã¹ã¾ã—ã‚‡ã†", "é£Ÿã¹ã¾ã›ã‚“", "é£Ÿã¹ã¾ã—ãŸ", "é£Ÿã¹ã¾ã™ã‹"],
        answer: "é£Ÿã¹ã¾ã—ã‚‡ã†"
      },
      {
        question: "ä»Šæœ ä½• (  ) é£Ÿã¹ã¾ã›ã‚“ã§ã—ãŸã€‚",
        options: ["ã‚‚", "ã‚’", "ãŒ", "ã«"],
        answer: "ã‚‚"
      },
      {
        question: "ãã‚Œã‹ã‚‰ã€èŠ± (  ) è¦‹ã¾ã—ãŸã€‚",
        options: ["ã‚’", "ã§", "ã«", "ã¸"],
        answer: "ã‚’"
      },
      {
        question: "ç¿»è­¯ï¼šç¨å¾®ä¼‘æ¯ä¸€ä¸‹å§ã€‚",
        options: ["ã¡ã‚‡ã£ã¨ ä¼‘ã¿ã¾ã—ã‚‡ã†ã€‚", "ã¡ã‚‡ã£ã¨ ä¼‘ã¿ã¾ã›ã‚“ã€‚", "ã¡ã‚‡ã£ã¨ ä¼‘ã¿ã¾ã—ãŸã€‚", "ã¡ã‚‡ã£ã¨ ä¼‘ã¿ã¾ã™ã€‚"],
        answer: "ã¡ã‚‡ã£ã¨ ä¼‘ã¿ã¾ã—ã‚‡ã†ã€‚"
      },
      {
        question: "ã€Œç…§ç‰‡ã€çš„æ—¥æ–‡æ˜¯ï¼Ÿ",
        options: ["ã—ã‚ƒã—ã‚“", "ãˆã„ãŒ", "ã¦ãŒã¿", "ã¿ã›"],
        answer: "ã—ã‚ƒã—ã‚“"
      }
    ]
  }
];

// --- é™„éŒ„è³‡æ–™ ---
const appendixData = {
  numbers: {
    title: "æ•¸å­— (Numbers)",
    icon: "ğŸ”¢",
    items: [
      // å€‹ä½æ•¸
      { jp: "0", kana: "ã‚¼ãƒ­ / ã‚Œã„", romaji: "zero / rei" },
      { jp: "1", kana: "ã„ã¡", romaji: "ichi" },
      { jp: "2", kana: "ã«", romaji: "ni" },
      { jp: "3", kana: "ã•ã‚“", romaji: "san" },
      { jp: "4", kana: "ã‚ˆã‚“ / ã—", romaji: "yon / shi" },
      { jp: "5", kana: "ã”", romaji: "go" },
      { jp: "6", kana: "ã‚ã", romaji: "roku" },
      { jp: "7", kana: "ãªãª / ã—ã¡", romaji: "nana / shichi" },
      { jp: "8", kana: "ã¯ã¡", romaji: "hachi" },
      { jp: "9", kana: "ãã‚…ã† / ã", romaji: "kyuu / ku" },
      { jp: "10", kana: "ã˜ã‚…ã†", romaji: "juu" },
      
      // 11-20
      { jp: "11", kana: "ã˜ã‚…ã†ã„ã¡", romaji: "juuichi" },
      { jp: "12", kana: "ã˜ã‚…ã†ã«", romaji: "juuni" },
      { jp: "13", kana: "ã˜ã‚…ã†ã•ã‚“", romaji: "juusan" },
      { jp: "14", kana: "ã˜ã‚…ã†ã‚ˆã‚“", romaji: "juuyon" },
      { jp: "15", kana: "ã˜ã‚…ã†ã”", romaji: "juugo" },
      { jp: "16", kana: "ã˜ã‚…ã†ã‚ã", romaji: "juuroku" },
      { jp: "17", kana: "ã˜ã‚…ã†ãªãª", romaji: "juunana" },
      { jp: "18", kana: "ã˜ã‚…ã†ã¯ã¡", romaji: "juuhachi" },
      { jp: "19", kana: "ã˜ã‚…ã†ãã‚…ã†", romaji: "juukyuu" },
      { jp: "20", kana: "ã«ã˜ã‚…ã†", romaji: "nijuu" },

      // åä½æ•¸
      { jp: "30", kana: "ã•ã‚“ã˜ã‚…ã†", romaji: "sanjuu" },
      { jp: "40", kana: "ã‚ˆã‚“ã˜ã‚…ã†", romaji: "yonjuu" },
      { jp: "50", kana: "ã”ã˜ã‚…ã†", romaji: "gojuu" },
      { jp: "60", kana: "ã‚ãã˜ã‚…ã†", romaji: "rokujuu" },
      { jp: "70", kana: "ãªãªã˜ã‚…ã†", romaji: "nanajuu" },
      { jp: "80", kana: "ã¯ã¡ã˜ã‚…ã†", romaji: "hachijuu" },
      { jp: "90", kana: "ãã‚…ã†ã˜ã‚…ã†", romaji: "kyuujuu" },

      // ç™¾ä½æ•¸ (æ³¨æ„ 300, 600, 800)
      { jp: "100", kana: "ã²ã‚ƒã", romaji: "hyaku" },
      { jp: "200", kana: "ã«ã²ã‚ƒã", romaji: "nihyaku" },
      { jp: "300", kana: "ã•ã‚“ã³ã‚ƒã", romaji: "sanbyaku" },
      { jp: "400", kana: "ã‚ˆã‚“ã²ã‚ƒã", romaji: "yonhyaku" },
      { jp: "500", kana: "ã”ã²ã‚ƒã", romaji: "gohyaku" },
      { jp: "600", kana: "ã‚ã£ã´ã‚ƒã", romaji: "roppyaku" },
      { jp: "700", kana: "ãªãªã²ã‚ƒã", romaji: "nanahyaku" },
      { jp: "800", kana: "ã¯ã£ã´ã‚ƒã", romaji: "happyaku" },
      { jp: "900", kana: "ãã‚…ã†ã²ã‚ƒã", romaji: "kyuuhyaku" },

      // åƒä½æ•¸ (æ³¨æ„ 3000, 8000)
      { jp: "1,000", kana: "ã›ã‚“", romaji: "sen" },
      { jp: "2,000", kana: "ã«ã›ã‚“", romaji: "nisen" },
      { jp: "3,000", kana: "ã•ã‚“ãœã‚“", romaji: "sanzen" },
      { jp: "4,000", kana: "ã‚ˆã‚“ã›ã‚“", romaji: "yonsen" },
      { jp: "5,000", kana: "ã”ã›ã‚“", romaji: "gosen" },
      { jp: "6,000", kana: "ã‚ãã›ã‚“", romaji: "rokusen" },
      { jp: "7,000", kana: "ãªãªã›ã‚“", romaji: "nanasen" },
      { jp: "8,000", kana: "ã¯ã£ã›ã‚“", romaji: "hassen" },
      { jp: "9,000", kana: "ãã‚…ã†ã›ã‚“", romaji: "kyuusen" },

      // è¬ä»¥ä¸Š
      { jp: "10,000", kana: "ã„ã¡ã¾ã‚“", romaji: "ichiman" },
      { jp: "100,000", kana: "ã˜ã‚…ã†ã¾ã‚“", romaji: "juuman" },
      { jp: "1,000,000", kana: "ã²ã‚ƒãã¾ã‚“", romaji: "hyakuman" },
      { jp: "10,000,000", kana: "ã›ã‚“ã¾ã‚“", romaji: "senman" },
      { jp: "100,000,000", kana: "ã„ã¡ãŠã", romaji: "ichioku" },
    ]
  },
  time: {
    title: "æ™‚é–“ (Time)",
    icon: "ğŸ•’",
    description: "æ³¨æ„ 4ã€7ã€9 çš„å”¸æ³•ã€‚",
    items: [
      { label: "1:00", kana: "ã„ã¡ã˜", romaji: "ichiji" },
      { label: "2:00", kana: "ã«ã˜", romaji: "niji" },
      { label: "3:00", kana: "ã•ã‚“ã˜", romaji: "sanji" },
      { label: "4:00", kana: "ã‚ˆã˜ (æ³¨æ„)", romaji: "yoji", highlight: true },
      { label: "5:00", kana: "ã”ã˜", romaji: "goji" },
      { label: "6:00", kana: "ã‚ãã˜", romaji: "rokuji" },
      { label: "7:00", kana: "ã—ã¡ã˜ (æ³¨æ„)", romaji: "shichiji", highlight: true },
      { label: "8:00", kana: "ã¯ã¡ã˜", romaji: "hachiji" },
      { label: "9:00", kana: "ãã˜ (æ³¨æ„)", romaji: "kuji", highlight: true },
      { label: "10:00", kana: "ã˜ã‚…ã†ã˜", romaji: "juuji" },
      { label: "11:00", kana: "ã˜ã‚…ã†ã„ã¡ã˜", romaji: "juuichiji" },
      { label: "12:00", kana: "ã˜ã‚…ã†ã«ã˜", romaji: "juuniji" },
      { label: "å¹¾é»", kana: "ãªã‚“ã˜", romaji: "nanji" },
    ],
    minutes: [
      { label: "1åˆ†", kana: "ã„ã£ã·ã‚“", romaji: "ippun" },
      { label: "2åˆ†", kana: "ã«ãµã‚“", romaji: "nifun" },
      { label: "3åˆ†", kana: "ã•ã‚“ã·ã‚“", romaji: "sanpun" },
      { label: "4åˆ†", kana: "ã‚ˆã‚“ã·ã‚“", romaji: "yonpun" },
      { label: "5åˆ†", kana: "ã”ãµã‚“", romaji: "gofun" },
      { label: "6åˆ†", kana: "ã‚ã£ã·ã‚“", romaji: "roppun" },
      { label: "7åˆ†", kana: "ãªãªãµã‚“", romaji: "nanafun" },
      { label: "8åˆ†", kana: "ã¯ã£ã·ã‚“", romaji: "happun" },
      { label: "9åˆ†", kana: "ãã‚…ã†ãµã‚“", romaji: "kyuufun" },
      { label: "10åˆ†", kana: "ã˜ã‚…ã£ã·ã‚“", romaji: "juppun" },
      { label: "15åˆ†", kana: "ã˜ã‚…ã†ã”ãµã‚“", romaji: "juugofun" },
      { label: "30åˆ†", kana: "ã¯ã‚“", romaji: "han (åŠ)" },
      { label: "å¹¾åˆ†", kana: "ãªã‚“ã·ã‚“", romaji: "nanpun" },
    ],
    periods: [
      { label: "ä¸Šåˆ", kana: "ã”ãœã‚“", romaji: "gozen" },
      { label: "ä¸‹åˆ", kana: "ã”ã”", romaji: "gogo" },
      { label: "ç¾åœ¨", kana: "ã„ã¾", romaji: "ima" },
    ]
  },
  timeWords: {
    title: "æ™‚å€™ (Time Words)",
    icon: "ğŸ“…",
    description: "å­¸ç¿’å¤©ã€é€±ã€æœˆã€å¹´çš„æ™‚é–“è»¸èªªæ³•ã€‚",
    tables: [
      {
        title: "å¤©èˆ‡æ™‚æ®µ (Days & Time of Day)",
        headers: ["å‰å¤©", "æ˜¨å¤©", "ä»Šå¤©", "æ˜å¤©", "å¾Œå¤©", "æ¯å¤©"],
        rows: [
          { label: "æ—¥å­", cells: [
            { jp: "ä¸€æ˜¨æ—¥", kana: "ãŠã¨ã¨ã„" },
            { jp: "æ˜¨æ—¥", kana: "ãã®ã†" },
            { jp: "ä»Šæ—¥", kana: "ãã‚‡ã†" },
            { jp: "æ˜æ—¥", kana: "ã‚ã—ãŸ" },
            { jp: "æ˜å¾Œæ—¥", kana: "ã‚ã•ã£ã¦" },
            { jp: "æ¯æ—¥", kana: "ã¾ã„ã«ã¡" }
          ]},
          { label: "æ—©ä¸Š", cells: [
            { jp: "ä¸€æ˜¨æ—¥ã®æœ", kana: "ãŠã¨ã¨ã„ã®ã‚ã•" },
            { jp: "æ˜¨æ—¥ã®æœ", kana: "ãã®ã†ã®ã‚ã•" },
            { jp: "ä»Šæœ", kana: "ã‘ã•" },
            { jp: "æ˜æ—¥ã®æœ", kana: "ã‚ã—ãŸã®ã‚ã•" },
            { jp: "æ˜å¾Œæ—¥ã®æœ", kana: "ã‚ã•ã£ã¦ã®ã‚ã•" },
            { jp: "æ¯æœ", kana: "ã¾ã„ã‚ã•" }
          ]},
          { label: "æ™šä¸Š", cells: [
            { jp: "ä¸€æ˜¨æ—¥ã®æ™©", kana: "ãŠã¨ã¨ã„ã®ã°ã‚“" },
            { jp: "æ˜¨å¤œ", kana: "ã‚†ã†ã¹" },
            { jp: "ä»Šæ™©", kana: "ã“ã‚“ã°ã‚“" },
            { jp: "æ˜æ—¥ã®æ™©", kana: "ã‚ã—ãŸã®ã°ã‚“" },
            { jp: "æ˜å¾Œæ—¥ã®æ™©", kana: "ã‚ã•ã£ã¦ã®ã°ã‚“" },
            { jp: "æ¯æ™©", kana: "ã¾ã„ã°ã‚“" }
          ]}
        ]
      },
      {
        title: "é€±ãƒ»æœˆãƒ»å¹´ (Week / Month / Year)",
        headers: ["ä¸Šä¸Š~", "ä¸Š~", "é€™/æœ¬~", "ä¸‹~", "ä¸‹ä¸‹~", "æ¯~"],
        rows: [
          { label: "é€±", cells: [
            { jp: "å…ˆã€…é€±", kana: "ã›ã‚“ã›ã‚“ã—ã‚…ã†" },
            { jp: "å…ˆé€±", kana: "ã›ã‚“ã—ã‚…ã†" },
            { jp: "ä»Šé€±", kana: "ã“ã‚“ã—ã‚…ã†" },
            { jp: "æ¥é€±", kana: "ã‚‰ã„ã—ã‚…ã†" },
            { jp: "å†æ¥é€±", kana: "ã•ã‚‰ã„ã—ã‚…ã†" },
            { jp: "æ¯é€±", kana: "ã¾ã„ã—ã‚…ã†" }
          ]},
          { label: "æœˆ", cells: [
            { jp: "å…ˆã€…æœˆ", kana: "ã›ã‚“ã›ã‚“ã’ã¤" },
            { jp: "å…ˆæœˆ", kana: "ã›ã‚“ã’ã¤" },
            { jp: "ä»Šæœˆ", kana: "ã“ã‚“ã’ã¤" },
            { jp: "æ¥æœˆ", kana: "ã‚‰ã„ã’ã¤" },
            { jp: "å†æ¥æœˆ", kana: "ã•ã‚‰ã„ã’ã¤" },
            { jp: "æ¯æœˆ", kana: "ã¾ã„ã¤ã" }
          ]},
          { label: "å¹´", cells: [
            { jp: "ä¸€æ˜¨å¹´", kana: "ãŠã¨ã¨ã—" },
            { jp: "å»å¹´", kana: "ãã‚‡ã­ã‚“" },
            { jp: "ä»Šå¹´", kana: "ã“ã¨ã—" },
            { jp: "æ¥å¹´", kana: "ã‚‰ã„ã­ã‚“" },
            { jp: "å†æ¥å¹´", kana: "ã•ã‚‰ã„ã­ã‚“" },
            { jp: "æ¯å¹´", kana: "ã¾ã„ã¨ã—" }
          ]}
        ]
      }
    ]
  },
  counters: {
    title: "é‡è© (Counters)",
    icon: "ğŸ“¦",
    description: "æ³¨æ„æ•¸å­—èˆ‡é‡è©çµåˆæ™‚çš„ç™¼éŸ³è®ŠåŒ–ï¼Œç´…è‰²ç‚ºç‰¹æ®Šç™¼éŸ³ã€‚",
    groups: [
      {
        label: "é€šç”¨ãƒ»äººç‰©",
        items: [
          { 
            unit: "ï½ã¤ (å€‹)", 
            list: [
              { num: 1, val: "ã²ã¨ã¤" }, 
              { num: 2, val: "ãµãŸã¤" }, 
              { num: 3, val: "ã¿ã£ã¤" }, 
              { num: 4, val: "ã‚ˆã£ã¤" }, 
              { num: 5, val: "ã„ã¤ã¤" }, 
              { num: 6, val: "ã‚€ã£ã¤" }, 
              { num: 7, val: "ãªãªã¤" }, 
              { num: 8, val: "ã‚„ã£ã¤" }, 
              { num: 9, val: "ã“ã“ã®ã¤" }, 
              { num: 10, val: "ã¨ãŠ" }, 
              { num: "?", val: "ã„ãã¤" }
            ]
          },
          { 
            unit: "ï½äºº (äºº)", 
            list: [
              { num: 1, val: "ã²ã¨ã‚Š", highlight: true }, 
              { num: 2, val: "ãµãŸã‚Š", highlight: true }, 
              { num: 3, val: "ã•ã‚“ã«ã‚“" }, 
              { num: 4, val: "ã‚ˆã«ã‚“", highlight: true }, 
              { num: 5, val: "ã”ã«ã‚“" }, 
              { num: 6, val: "ã‚ãã«ã‚“" }, 
              { num: 7, val: "ã—ã¡ã«ã‚“" }, 
              { num: 8, val: "ã¯ã¡ã«ã‚“" }, 
              { num: 9, val: "ãã‚…ã†ã«ã‚“" }, 
              { num: 10, val: "ã˜ã‚…ã†ã«ã‚“" }, 
              { num: "?", val: "ãªã‚“ã«ã‚“" }
            ]
          }
        ]
      },
      {
        label: "è¦å‰‡è®ŠåŒ– (ç„¡ç‰¹æ®ŠéŸ³è®Š)",
        items: [
          { 
            unit: "ï½æš (å¼µ/ä»¶)", 
            list: [
              { num: 1, val: "ã„ã¡ã¾ã„" }, 
              { num: 2, val: "ã«ã¾ã„" }, 
              { num: 3, val: "ã•ã‚“ã¾ã„" }, 
              { num: 4, val: "ã‚ˆã‚“ã¾ã„" }, 
              { num: 5, val: "ã”ã¾ã„" }, 
              { num: 6, val: "ã‚ãã¾ã„" }, 
              { num: 7, val: "ãªãªã¾ã„" }, 
              { num: 8, val: "ã¯ã¡ã¾ã„" }, 
              { num: 9, val: "ãã‚…ã†ã¾ã„" }, 
              { num: 10, val: "ã˜ã‚…ã†ã¾ã„" }, 
              { num: "?", val: "ãªã‚“ã¾ã„" }
            ]
          },
          { 
            unit: "ï½å° (å°/è¼›)", 
            list: [
              { num: 1, val: "ã„ã¡ã ã„" }, 
              { num: 2, val: "ã«ã ã„" }, 
              { num: 3, val: "ã•ã‚“ã ã„" }, 
              { num: 4, val: "ã‚ˆã‚“ã ã„" }, 
              { num: 5, val: "ã”ã ã„" }, 
              { num: 6, val: "ã‚ãã ã„" }, 
              { num: 7, val: "ãªãªã ã„" }, 
              { num: 8, val: "ã¯ã¡ã ã„" }, 
              { num: 9, val: "ãã‚…ã†ã ã„" }, 
              { num: 10, val: "ã˜ã‚…ã†ã ã„" }, 
              { num: "?", val: "ãªã‚“ã ã„" }
            ]
          },
          { 
            unit: "ï½ç•ª (è™Ÿ)", 
            list: [
              { num: 1, val: "ã„ã¡ã°ã‚“" }, 
              { num: 2, val: "ã«ã°ã‚“" }, 
              { num: 3, val: "ã•ã‚“ã°ã‚“" }, 
              { num: 4, val: "ã‚ˆã‚“ã°ã‚“" }, 
              { num: 5, val: "ã”ã°ã‚“" }, 
              { num: 6, val: "ã‚ãã°ã‚“" }, 
              { num: 7, val: "ãªãªã°ã‚“" }, 
              { num: 8, val: "ã¯ã¡ã°ã‚“" }, 
              { num: 9, val: "ãã‚…ã†ã°ã‚“" }, 
              { num: 10, val: "ã˜ã‚…ã†ã°ã‚“" }, 
              { num: "?", val: "ãªã‚“ã°ã‚“" }
            ]
          },
        ]
      },
      {
        label: "éŸ³è®Šï¼šæ­²ãƒ»å†Šãƒ»å›ãƒ»å€‹ (1, 8, 10 ä¿ƒéŸ³)",
        items: [
          { 
            unit: "ï½æ­³ (æ­²)", 
            list: [
              { num: 1, val: "ã„ã£ã•ã„", highlight: true }, 
              { num: 2, val: "ã«ã•ã„" }, 
              { num: 3, val: "ã•ã‚“ã•ã„" }, 
              { num: 4, val: "ã‚ˆã‚“ã•ã„" }, 
              { num: 5, val: "ã”ã•ã„" }, 
              { num: 6, val: "ã‚ãã•ã„" }, 
              { num: 7, val: "ãªãªã•ã„" }, 
              { num: 8, val: "ã¯ã£ã•ã„", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ã•ã„" }, 
              { num: 10, val: "ã˜ã‚…ã£ã•ã„", highlight: true }, 
              { num: 20, val: "ã¯ãŸã¡", highlight: true }, 
              { num: "?", val: "ãªã‚“ã•ã„" }
            ]
          },
          { 
            unit: "ï½å†Š (æœ¬)", 
            list: [
              { num: 1, val: "ã„ã£ã•ã¤", highlight: true }, 
              { num: 2, val: "ã«ã•ã¤" }, 
              { num: 3, val: "ã•ã‚“ã•ã¤" }, 
              { num: 4, val: "ã‚ˆã‚“ã•ã¤" }, 
              { num: 5, val: "ã”ã•ã¤" }, 
              { num: 6, val: "ã‚ãã•ã¤" }, 
              { num: 7, val: "ãªãªã•ã¤" }, 
              { num: 8, val: "ã¯ã£ã•ã¤", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ã•ã¤" }, 
              { num: 10, val: "ã˜ã‚…ã£ã•ã¤", highlight: true }, 
              { num: "?", val: "ãªã‚“ã•ã¤" }
            ]
          },
          { 
            unit: "ï½å› (æ¬¡)", 
            list: [
              { num: 1, val: "ã„ã£ã‹ã„", highlight: true }, 
              { num: 2, val: "ã«ã‹ã„" }, 
              { num: 3, val: "ã•ã‚“ã‹ã„" }, 
              { num: 4, val: "ã‚ˆã‚“ã‹ã„" }, 
              { num: 5, val: "ã”ã‹ã„" }, 
              { num: 6, val: "ã‚ã£ã‹ã„", highlight: true }, 
              { num: 7, val: "ãªãªã‹ã„" }, 
              { num: 8, val: "ã¯ã£ã‹ã„", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ã‹ã„" }, 
              { num: 10, val: "ã˜ã‚…ã£ã‹ã„", highlight: true }, 
              { num: "?", val: "ãªã‚“ã‹ã„" }
            ]
          },
          { 
            unit: "ï½å€‹ (å€‹)", 
            list: [
              { num: 1, val: "ã„ã£ã“", highlight: true }, 
              { num: 2, val: "ã«ã“" }, 
              { num: 3, val: "ã•ã‚“ã“" }, 
              { num: 4, val: "ã‚ˆã‚“ã“" }, 
              { num: 5, val: "ã”ã“" }, 
              { num: 6, val: "ã‚ã£ã“", highlight: true }, 
              { num: 7, val: "ãªãªã“" }, 
              { num: 8, val: "ã¯ã£ã“", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ã“" }, 
              { num: 10, val: "ã˜ã‚…ã£ã“", highlight: true }, 
              { num: "?", val: "ãªã‚“ã“" }
            ]
          }
        ]
      },
      {
        label: "éŸ³è®Šï¼šç€ãƒ»éšãƒ»è¶³ãƒ»è»’ (æ¿éŸ³èˆ‡ä¿ƒéŸ³)",
        items: [
          { 
            unit: "ï½ç€ (ä»¶)", 
            list: [
              { num: 1, val: "ã„ã£ã¡ã‚ƒã", highlight: true }, 
              { num: 2, val: "ã«ã¡ã‚ƒã" }, 
              { num: 3, val: "ã•ã‚“ã¡ã‚ƒã" }, 
              { num: 4, val: "ã‚ˆã‚“ã¡ã‚ƒã" }, 
              { num: 5, val: "ã”ã¡ã‚ƒã" }, 
              { num: 6, val: "ã‚ãã¡ã‚ƒã" }, 
              { num: 7, val: "ãªãªã¡ã‚ƒã" }, 
              { num: 8, val: "ã¯ã£ã¡ã‚ƒã", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ã¡ã‚ƒã" }, 
              { num: 10, val: "ã˜ã‚…ã£ã¡ã‚ƒã", highlight: true }, 
              { num: "?", val: "ãªã‚“ã¡ã‚ƒã" }
            ]
          },
          { 
            unit: "ï½éš (æ¨“)", 
            list: [
              { num: 1, val: "ã„ã£ã‹ã„", highlight: true }, 
              { num: 2, val: "ã«ã‹ã„" }, 
              { num: 3, val: "ã•ã‚“ãŒã„", highlight: true }, 
              { num: 4, val: "ã‚ˆã‚“ã‹ã„" }, 
              { num: 5, val: "ã”ã‹ã„" }, 
              { num: 6, val: "ã‚ã£ã‹ã„", highlight: true }, 
              { num: 7, val: "ãªãªã‹ã„" }, 
              { num: 8, val: "ã¯ã£ã‹ã„", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ã‹ã„" }, 
              { num: 10, val: "ã˜ã‚…ã£ã‹ã„", highlight: true }, 
              { num: "?", val: "ãªã‚“ãŒã„" }
            ]
          },
          { 
            unit: "ï½è¶³ (é›™)", 
            list: [
              { num: 1, val: "ã„ã£ãã", highlight: true }, 
              { num: 2, val: "ã«ãã" }, 
              { num: 3, val: "ã•ã‚“ãã", highlight: true }, 
              { num: 4, val: "ã‚ˆã‚“ãã" }, 
              { num: 5, val: "ã”ãã" }, 
              { num: 6, val: "ã‚ããã" }, 
              { num: 7, val: "ãªãªãã" }, 
              { num: 8, val: "ã¯ã£ãã", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ãã" }, 
              { num: 10, val: "ã˜ã‚…ã£ãã", highlight: true }, 
              { num: "?", val: "ãªã‚“ãã" }
            ]
          },
          { 
            unit: "ï½è»’ (æˆ¿å±‹)", 
            list: [
              { num: 1, val: "ã„ã£ã‘ã‚“", highlight: true }, 
              { num: 2, val: "ã«ã‘ã‚“" }, 
              { num: 3, val: "ã•ã‚“ã’ã‚“", highlight: true }, 
              { num: 4, val: "ã‚ˆã‚“ã‘ã‚“" }, 
              { num: 5, val: "ã”ã‘ã‚“" }, 
              { num: 6, val: "ã‚ã£ã‘ã‚“", highlight: true }, 
              { num: 7, val: "ãªãªã‘ã‚“" }, 
              { num: 8, val: "ã¯ã£ã‘ã‚“", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ã‘ã‚“" }, 
              { num: 10, val: "ã˜ã‚…ã£ã‘ã‚“", highlight: true }, 
              { num: "?", val: "ãªã‚“ã’ã‚“" }
            ]
          }
        ]
      },
      {
        label: "éŸ³è®Šï¼šæœ¬ãƒ»æ¯ãƒ»åŒ¹ (hè¡Œå¤§å¹…è®ŠåŒ–)",
        items: [
          { 
            unit: "ï½æœ¬ (ç´°é•·)", 
            list: [
              { num: 1, val: "ã„ã£ã½ã‚“", highlight: true }, 
              { num: 2, val: "ã«ã»ã‚“" }, 
              { num: 3, val: "ã•ã‚“ã¼ã‚“", highlight: true }, 
              { num: 4, val: "ã‚ˆã‚“ã»ã‚“" }, 
              { num: 5, val: "ã”ã»ã‚“" }, 
              { num: 6, val: "ã‚ã£ã½ã‚“", highlight: true }, 
              { num: 7, val: "ãªãªã»ã‚“" }, 
              { num: 8, val: "ã¯ã£ã½ã‚“", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ã»ã‚“" }, 
              { num: 10, val: "ã˜ã‚…ã£ã½ã‚“", highlight: true }, 
              { num: "?", val: "ãªã‚“ã¼ã‚“" }
            ]
          },
          { 
            unit: "ï½æ¯ (æ¯)", 
            list: [
              { num: 1, val: "ã„ã£ã±ã„", highlight: true }, 
              { num: 2, val: "ã«ã¯ã„" }, 
              { num: 3, val: "ã•ã‚“ã°ã„", highlight: true }, 
              { num: 4, val: "ã‚ˆã‚“ã¯ã„" }, 
              { num: 5, val: "ã”ã¯ã„" }, 
              { num: 6, val: "ã‚ã£ã±ã„", highlight: true }, 
              { num: 7, val: "ãªãªã¯ã„" }, 
              { num: 8, val: "ã¯ã£ã±ã„", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ã¯ã„" }, 
              { num: 10, val: "ã˜ã‚…ã£ã±ã„", highlight: true }, 
              { num: "?", val: "ãªã‚“ã°ã„" }
            ]
          },
          { 
            unit: "ï½åŒ¹ (å°å‹•ç‰©)", 
            list: [
              { num: 1, val: "ã„ã£ã´ã", highlight: true }, 
              { num: 2, val: "ã«ã²ã" }, 
              { num: 3, val: "ã•ã‚“ã³ã", highlight: true }, 
              { num: 4, val: "ã‚ˆã‚“ã²ã" }, 
              { num: 5, val: "ã”ã²ã" }, 
              { num: 6, val: "ã‚ã£ã´ã", highlight: true }, 
              { num: 7, val: "ãªãªã²ã" }, 
              { num: 8, val: "ã¯ã£ã´ã", highlight: true }, 
              { num: 9, val: "ãã‚…ã†ã²ã" }, 
              { num: 10, val: "ã˜ã‚…ã£ã´ã", highlight: true }, 
              { num: "?", val: "ãªã‚“ã³ã" }
            ]
          }
        ]
      }
    ]
  },
  calendar: {
    title: "æ—¥æœŸèˆ‡æ˜ŸæœŸ (Calendar)",
    icon: "ğŸ—“ï¸",
    description: "æ³¨æ„4ã€7ã€9æœˆçš„å”¸æ³•ã€‚æ—¥æœŸä¸­1-10ã€14ã€20ã€24è™Ÿæ˜¯ç‰¹æ®Šè®€éŸ³ã€‚",
    weekdays: [
      { label: "æ—¥", kanji: "æ—¥æ›œæ—¥", kana: "ã«ã¡ã‚ˆã†ã³", romaji: "nichiyoubi" },
      { label: "ä¸€", kanji: "æœˆæ›œæ—¥", kana: "ã’ã¤ã‚ˆã†ã³", romaji: "getsuyoubi" },
      { label: "äºŒ", kanji: "ç«æ›œæ—¥", kana: "ã‹ã‚ˆã†ã³", romaji: "kayoubi" },
      { label: "ä¸‰", kanji: "æ°´æ›œæ—¥", kana: "ã™ã„ã‚ˆã†ã³", romaji: "suiyoubi" },
      { label: "å››", kanji: "æœ¨æ›œæ—¥", kana: "ã‚‚ãã‚ˆã†ã³", romaji: "mokuyoubi" },
      { label: "äº”", kanji: "é‡‘æ›œæ—¥", kana: "ãã‚“ã‚ˆã†ã³", romaji: "kinyoubi" },
      { label: "å…­", kanji: "åœŸæ›œæ—¥", kana: "ã©ã‚ˆã†ã³", romaji: "doyoubi" },
      { label: "å¹¾", kanji: "ä½•æ›œæ—¥", kana: "ãªã‚“ã‚ˆã†ã³", romaji: "nanyoubi" },
    ],
    months: [
      { label: "1æœˆ", kana: "ã„ã¡ãŒã¤", romaji: "ichigatsu" },
      { label: "2æœˆ", kana: "ã«ãŒã¤", romaji: "nigatsu" },
      { label: "3æœˆ", kana: "ã•ã‚“ãŒã¤", romaji: "sangatsu" },
      { label: "4æœˆ", kana: "ã—ãŒã¤ (æ³¨æ„)", romaji: "shigatsu", highlight: true },
      { label: "5æœˆ", kana: "ã”ãŒã¤", romaji: "gogatsu" },
      { label: "6æœˆ", kana: "ã‚ããŒã¤", romaji: "rokugatsu" },
      { label: "7æœˆ", kana: "ã—ã¡ãŒã¤ (æ³¨æ„)", romaji: "shichigatsu", highlight: true },
      { label: "8æœˆ", kana: "ã¯ã¡ãŒã¤", romaji: "hachigatsu" },
      { label: "9æœˆ", kana: "ããŒã¤ (æ³¨æ„)", romaji: "kugatsu", highlight: true },
      { label: "10æœˆ", kana: "ã˜ã‚…ã†ãŒã¤", romaji: "juugatsu" },
      { label: "11æœˆ", kana: "ã˜ã‚…ã†ã„ã¡ãŒã¤", romaji: "juuichigatsu" },
      { label: "12æœˆ", kana: "ã˜ã‚…ã†ã«ãŒã¤", romaji: "juunigatsu" },
      { label: "å¹¾æœˆ", kana: "ãªã‚“ãŒã¤", romaji: "nangatsu" },
    ],
    days: [
      { label: "1æ—¥", kana: "ã¤ã„ãŸã¡", romaji: "tsuitachi", highlight: true },
      { label: "2æ—¥", kana: "ãµã¤ã‹", romaji: "futsuka", highlight: true },
      { label: "3æ—¥", kana: "ã¿ã£ã‹", romaji: "mikka", highlight: true },
      { label: "4æ—¥", kana: "ã‚ˆã£ã‹", romaji: "yokka", highlight: true },
      { label: "5æ—¥", kana: "ã„ã¤ã‹", romaji: "itsuka", highlight: true },
      { label: "6æ—¥", kana: "ã‚€ã„ã‹", romaji: "muika", highlight: true },
      { label: "7æ—¥", kana: "ãªã®ã‹", romaji: "nanoka", highlight: true },
      { label: "8æ—¥", kana: "ã‚ˆã†ã‹", romaji: "youka", highlight: true },
      { label: "9æ—¥", kana: "ã“ã“ã®ã‹", romaji: "kokonoka", highlight: true },
      { label: "10æ—¥", kana: "ã¨ãŠã‹", romaji: "tooka", highlight: true },
      { label: "11æ—¥", kana: "ã˜ã‚…ã†ã„ã¡ã«ã¡", romaji: "juuichinichi" },
      { label: "12æ—¥", kana: "ã˜ã‚…ã†ã«ã«ã¡", romaji: "juuninichi" },
      { label: "13æ—¥", kana: "ã˜ã‚…ã†ã•ã‚“ã«ã¡", romaji: "juusannichi" },
      { label: "14æ—¥", kana: "ã˜ã‚…ã†ã‚ˆã£ã‹", romaji: "juuyokka", highlight: true },
      { label: "15æ—¥", kana: "ã˜ã‚…ã†ã”ã«ã¡", romaji: "juugonichi" },
      { label: "16æ—¥", kana: "ã˜ã‚…ã†ã‚ãã«ã¡", romaji: "juurokunichi" },
      { label: "17æ—¥", kana: "ã˜ã‚…ã†ã—ã¡ã«ã¡", romaji: "juushichinichi" },
      { label: "18æ—¥", kana: "ã˜ã‚…ã†ã¯ã¡ã«ã¡", romaji: "juuhachinichi" },
      { label: "19æ—¥", kana: "ã˜ã‚…ã†ãã«ã¡", romaji: "juukunichi" },
      { label: "20æ—¥", kana: "ã¯ã¤ã‹", romaji: "hatsuka", highlight: true },
      { label: "21æ—¥", kana: "ã«ã˜ã‚…ã†ã„ã¡ã«ã¡", romaji: "nijuuichinichi" },
      { label: "22æ—¥", kana: "ã«ã˜ã‚…ã†ã«ã«ã¡", romaji: "nijuuninichi" },
      { label: "23æ—¥", kana: "ã«ã˜ã‚…ã†ã•ã‚“ã«ã¡", romaji: "nijuusannichi" },
      { label: "24æ—¥", kana: "ã«ã˜ã‚…ã†ã‚ˆã£ã‹", romaji: "nijuuyokka", highlight: true },
      { label: "25æ—¥", kana: "ã«ã˜ã‚…ã†ã”ã«ã¡", romaji: "nijuugonichi" },
      { label: "26æ—¥", kana: "ã«ã˜ã‚…ã†ã‚ãã«ã¡", romaji: "nijuurokunichi" },
      { label: "27æ—¥", kana: "ã«ã˜ã‚…ã†ã—ã¡ã«ã¡", romaji: "nijuushichinichi" },
      { label: "28æ—¥", kana: "ã«ã˜ã‚…ã†ã¯ã¡ã«ã¡", romaji: "nijuuhachinichi" },
      { label: "29æ—¥", kana: "ã«ã˜ã‚…ã†ãã«ã¡", romaji: "nijuukunichi" },
      { label: "30æ—¥", kana: "ã•ã‚“ã˜ã‚…ã†ã«ã¡", romaji: "sanjuunichi" },
      { label: "31æ—¥", kana: "ã•ã‚“ã˜ã‚…ã†ã„ã¡ã«ã¡", romaji: "sanjuuichinichi" },
      { label: "å¹¾è™Ÿ", kana: "ãªã‚“ã«ã¡", romaji: "nannichi" },
    ]
  },
  family: {
    title: "å®¶æ—ç¨±è¬‚ (Family)",
    icon: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦",
    description: "ç¨±å‘¼è‡ªå·±çš„å®¶äºº vs ç¨±å‘¼åˆ¥äººçš„å®¶äººã€‚",
    items: [
      { relation: "ç¥–çˆ¶", my: "ç¥–çˆ¶ (ããµ)", other: "ãŠã˜ã„ã•ã‚“" },
      { relation: "ç¥–æ¯", my: "ç¥–æ¯ (ãã¼)", other: "ãŠã°ã‚ã•ã‚“" },
      { relation: "çˆ¶", my: "çˆ¶ (ã¡ã¡)", other: "ãŠçˆ¶ã•ã‚“ (ãŠã¨ã†ã•ã‚“)" },
      { relation: "æ¯", my: "æ¯ (ã¯ã¯)", other: "ãŠæ¯ã•ã‚“ (ãŠã‹ã‚ã•ã‚“)" },
      { relation: "å…„", my: "å…„ (ã‚ã«)", other: "ãŠå…„ã•ã‚“ (ãŠã«ã„ã•ã‚“)" },
      { relation: "å§‰", my: "å§‰ (ã‚ã­)", other: "ãŠå§‰ã•ã‚“ (ãŠã­ãˆã•ã‚“)" },
      { relation: "å¼Ÿ", my: "å¼Ÿ (ãŠã¨ã†ã¨)", other: "å¼Ÿã•ã‚“ (ãŠã¨ã†ã¨ã•ã‚“)" },
      { relation: "å¦¹", my: "å¦¹ (ã„ã‚‚ã†ã¨)", other: "å¦¹ã•ã‚“ (ã„ã‚‚ã†ã¨ã•ã‚“)" },
      { relation: "ä¸ˆå¤«", my: "å¤« (ãŠã£ã¨) / ä¸»äºº (ã—ã‚…ã˜ã‚“)", other: "ã”ä¸»äºº (ã”ã—ã‚…ã˜ã‚“)" },
      { relation: "å¦»å­", my: "å¦» (ã¤ã¾) / å®¶å†… (ã‹ãªã„)", other: "å¥¥ã•ã‚“ (ãŠãã•ã‚“)" },
    ]
  }
};

// --- çµ„ä»¶ ---

// éŸ³è¨Šæ’­æ”¾ helper å‡½æ•¸
const playAudio = (text) => {
  if (!window.speechSynthesis) return;
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'ja-JP';
  utterance.rate = 0.8; // ç¨å¾®æ”¾æ…¢èªé€Ÿï¼Œé©åˆåˆå­¸è€…
  window.speechSynthesis.cancel(); // æ’­æ”¾å‰å…ˆåœæ­¢ä¹‹å‰çš„èªéŸ³ï¼Œé¿å…é‡ç–Š
  window.speechSynthesis.speak(utterance);
};

const VocabularyList = ({ vocab, relatedVocab }) => (
  <div className="space-y-8">
    {/* æ ¸å¿ƒå–®å­— */}
    <div className="overflow-x-auto">
      <div className="flex items-center space-x-2 mb-3">
        <Star size={20} className="text-yellow-500 fill-yellow-500" />
        <h4 className="text-lg font-bold text-gray-800">æ ¸å¿ƒå–®å­— (Core Vocabulary)</h4>
      </div>
      <table className="min-w-full bg-white rounded-lg overflow-hidden shadow-sm border border-indigo-100">
        <thead className="bg-indigo-50">
          <tr>
            <th className="py-3 px-4 text-left text-sm font-semibold text-indigo-900 w-12"></th>
            <th className="py-3 px-4 text-left text-sm font-semibold text-indigo-900">æ¼¢å­—</th>
            <th className="py-3 px-4 text-left text-sm font-semibold text-indigo-900">å‡å</th>
            <th className="py-3 px-4 text-left text-sm font-semibold text-indigo-900 hidden sm:table-cell">ç¾…é¦¬æ‹¼éŸ³</th>
            <th className="py-3 px-4 text-left text-sm font-semibold text-indigo-900">ä¸­æ–‡æ„æ€</th>
          </tr>
        </thead>
        <tbody className="divide-y divide-indigo-50">
          {vocab.map((word) => (
            <tr key={word.id} className="hover:bg-indigo-50/50 transition-colors group">
              <td className="py-3 px-2 text-center">
                <button 
                  onClick={() => playAudio(word.kana || word.kanji)}
                  className="p-1.5 rounded-full text-indigo-400 hover:text-indigo-600 hover:bg-indigo-100 transition-colors text-lg"
                  title="æ’­æ”¾ç™¼éŸ³"
                >
                  ğŸ”Š
                </button>
              </td>
              <td className="py-3 px-4 text-lg font-medium text-gray-800">{word.kanji}</td>
              <td className="py-3 px-4 text-indigo-600 font-medium">{word.kana}</td>
              <td className="py-3 px-4 text-gray-500 text-sm hidden sm:table-cell">{word.romaji}</td>
              <td className="py-3 px-4 text-gray-700">{word.meaning}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>

    {/* é—œè¯å–®å­— */}
    {relatedVocab && relatedVocab.length > 0 && (
      <div>
        {relatedVocab.map((section) => (
          <div key={section.id} className="mt-8">
             <div className="flex items-center space-x-2 mb-3">
              <BookOpen size={20} className="text-emerald-600" />
              <h4 className="text-lg font-bold text-gray-800">åƒè€ƒè©å½™ï¼š{section.category}</h4>
            </div>
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
              {section.list.map((word, idx) => (
                <div key={idx} className="bg-emerald-50 border border-emerald-100 p-3 rounded-lg flex flex-col relative group">
                  <div className="flex justify-between items-start mb-1">
                    <div>
                      <span className="text-lg font-bold text-gray-800 block">{word.kanji}</span>
                      <span className="text-sm text-emerald-700 font-medium block">{word.kana}</span>
                    </div>
                    <button 
                      onClick={() => playAudio(word.kana || word.kanji)}
                      className="p-1.5 rounded-full text-emerald-400 hover:text-emerald-700 hover:bg-emerald-100 transition-colors text-lg"
                    >
                      ğŸ”Š
                    </button>
                  </div>
                  <span className="text-sm text-gray-600 mt-1">{word.meaning}</span>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    )}
  </div>
);

const GrammarSection = ({ grammar }) => (
  <div className="space-y-6">
    {grammar.map((item) => (
      <div key={item.id} className="bg-white p-6 rounded-lg shadow-sm border border-orange-100 border-l-4 border-l-orange-400">
        <h3 className="text-xl font-bold text-gray-800 mb-2 flex items-center">
          <span className="bg-orange-100 text-orange-600 text-sm px-2 py-1 rounded mr-2">å¥å‹ {item.id}</span>
          {item.title}
        </h3>
        <p className="text-gray-600 mb-4 leading-relaxed">
          {item.explanation}
        </p>
        <div className="bg-gray-50 p-4 rounded-md border border-gray-100">
          <p className="text-sm text-gray-500 mb-3 font-semibold flex items-center">
            <CheckCircle size={14} className="mr-1" /> ä¾‹å¥é‹ç”¨ï¼š
          </p>
          <div className="space-y-3">
            {item.examples && item.examples.map((ex, idx) => (
              <div key={idx} className="border-l-2 border-indigo-200 pl-3 flex items-start group">
                <button 
                  onClick={() => playAudio(ex.jp)}
                  className="mr-2 mt-1 p-1 rounded-full text-indigo-300 hover:text-indigo-600 hover:bg-indigo-100 transition-colors flex-shrink-0 text-lg"
                >
                  ğŸ”Š
                </button>
                <div>
                  <p className="text-lg text-indigo-700 font-medium leading-snug">{ex.jp}</p>
                  <p className="text-sm text-gray-600">{ex.cn}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    ))}
  </div>
);

const QuizSection = ({ quiz, isReviewMode = false }) => {
  const [answers, setAnswers] = useState({});
  const [showResult, setShowResult] = useState(false);

  const handleSelect = (qIndex, option) => {
    setAnswers({ ...answers, [qIndex]: option });
    setShowResult(false);
  };

  const checkScore = () => {
    setShowResult(true);
  };

  const getScore = () => {
    let score = 0;
    quiz.forEach((q, idx) => {
      if (answers[idx] === q.answer) score++;
    });
    return score;
  };

  return (
    <div className="space-y-8">
      {quiz.map((q, idx) => (
        <div key={idx} className="bg-white p-6 rounded-lg shadow-sm border border-emerald-100">
          <div className="flex justify-between items-start mb-4">
            <p className="font-medium text-lg text-gray-800">
              <span className="text-emerald-600 font-bold mr-2">Q{idx + 1}.</span>
              {q.question}
            </p>
            {isReviewMode && (
               <span className="text-xs font-medium px-2 py-1 bg-gray-100 text-gray-500 rounded-full whitespace-nowrap">
                 ä¾†è‡ª: {q.sourceLesson}
               </span>
            )}
          </div>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
            {q.options.map((option) => (
              <button
                key={option}
                onClick={() => handleSelect(idx, option)}
                className={`p-3 text-left rounded-md border transition-all ${
                  answers[idx] === option
                    ? 'bg-emerald-50 border-emerald-500 text-emerald-800 ring-1 ring-emerald-500'
                    : 'bg-white border-gray-200 hover:border-emerald-300 hover:bg-emerald-50/30'
                }`}
              >
                {option}
              </button>
            ))}
          </div>
          {showResult && (
            <div className={`mt-4 p-3 rounded-md text-sm font-bold flex items-center ${
              answers[idx] === q.answer ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
            }`}>
              {answers[idx] === q.answer ? (
                <><CheckCircle size={18} className="mr-2" /> æ­£è§£ï¼å¤ªæ£’äº†ã€‚</>
              ) : (
                <><X size={18} className="mr-2" /> æ®˜å¿µ... æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š{q.answer}</>
              )}
            </div>
          )}
        </div>
      ))}
      
      <div className="flex flex-col items-center justify-center mt-8 pt-8 border-t border-gray-200">
        {!showResult ? (
          <button
            onClick={checkScore}
            disabled={Object.keys(answers).length !== quiz.length}
            className={`px-8 py-3 rounded-full text-white font-bold text-lg shadow-lg transition-transform transform active:scale-95 ${
              Object.keys(answers).length !== quiz.length
                ? 'bg-gray-400 cursor-not-allowed'
                : 'bg-emerald-500 hover:bg-emerald-600'
            }`}
          >
            æäº¤ç­”æ¡ˆ
          </button>
        ) : (
          <div className="text-center animate-fade-in">
            <p className="text-2xl font-bold text-gray-800 mb-2">
              å¾—åˆ†ï¼š{getScore()} / {quiz.length}
            </p>
            <p className="text-gray-600">
              {getScore() === quiz.length ? "å…¨å°ï¼ä½ æ˜¯å¤©æ‰å—ï¼Ÿ ğŸ‰" : "å†æ¥å†å²ï¼Œå¤šç·´ç¿’å¹¾æ¬¡å§ï¼ ğŸ’ª"}
            </p>
            <button 
              onClick={() => { setAnswers({}); setShowResult(false); if(isReviewMode) window.scrollTo({top:0, behavior:'smooth'}); }}
              className="mt-4 text-emerald-600 hover:text-emerald-700 font-medium underline flex items-center justify-center mx-auto"
            >
              <RefreshCcw size={16} className="mr-1" />
              {isReviewMode ? "å†æŠ½ 20 é¡ŒæŒ‘æˆ°" : "é‡æ–°æ¸¬é©—"}
            </button>
          </div>
        )}
      </div>
    </div>
  );
};

// --- é™„éŒ„çµ„ä»¶ ---
const AppendixSection = () => {
  const [activeCategory, setActiveCategory] = useState('numbers');
  
  // ä½¿ç”¨Emojiä»£æ›¿åœ–ç¤ºï¼Œç¢ºä¿100%ç©©å®šæ€§
  const categories = [
    { id: 'numbers', label: 'æ•¸å­—', icon: 'ğŸ”¢' },
    { id: 'time', label: 'æ™‚é–“', icon: 'ğŸ•’' },
    { id: 'timeWords', label: 'æ™‚å€™', icon: 'ğŸ“…' },
    { id: 'calendar', label: 'æ—¥æœŸ', icon: 'ğŸ—“ï¸' },
    { id: 'counters', label: 'é‡è©', icon: 'ğŸ“¦' },
    { id: 'family', label: 'å®¶æ—', icon: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦' },
  ];

  const renderContent = () => {
    switch(activeCategory) {
      case 'numbers':
        return (
          <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
            {appendixData.numbers.items.map((item, idx) => (
              <button 
                key={idx} 
                onClick={() => playAudio(item.kana)}
                className="bg-white p-4 rounded-lg border border-gray-200 shadow-sm text-center hover:border-indigo-300 hover:bg-indigo-50 transition-all group"
              >
                <div className="flex justify-center mb-1 text-indigo-300 group-hover:text-indigo-500 text-xl">ğŸ”Š</div>
                <div className="text-2xl font-bold text-indigo-600 mb-1">{item.jp}</div>
                <div className="text-sm font-medium text-gray-800 mb-1">{item.kana}</div>
                <div className="text-xs text-gray-500">{item.romaji}</div>
              </button>
            ))}
          </div>
        );
      case 'time':
        return (
          <div className="space-y-6">
            <div>
              <h4 className="font-bold text-gray-700 mb-3 border-l-4 border-indigo-500 pl-2">æ™‚æ®µ (Period)</h4>
              <div className="flex gap-4">
                {appendixData.time.periods.map((item, idx) => (
                  <button 
                    key={idx} 
                    onClick={() => playAudio(item.kana)}
                    className="bg-indigo-50 px-4 py-3 rounded-lg border border-indigo-100 flex-1 text-center hover:bg-indigo-100 transition-colors"
                  >
                    <div className="flex justify-center mb-1 text-indigo-300 text-lg">ğŸ”Š</div>
                    <div className="font-bold text-indigo-800 text-lg mb-1">{item.label}</div>
                    <div className="text-sm text-gray-600">{item.kana}</div>
                    <div className="text-xs text-gray-400">{item.romaji}</div>
                  </button>
                ))}
              </div>
            </div>
            <div>
              <h4 className="font-bold text-gray-700 mb-3 border-l-4 border-indigo-500 pl-2">å°æ™‚ (Hour)</h4>
              <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                {appendixData.time.items.map((item, idx) => (
                  <button 
                    key={idx} 
                    onClick={() => playAudio(item.kana)}
                    className={`bg-white p-3 rounded-lg border ${item.highlight ? 'border-red-300 bg-red-50' : 'border-gray-200'} shadow-sm hover:border-indigo-300 hover:bg-indigo-50 transition-all text-left w-full`}
                  >
                    <div className="flex justify-between items-center mb-1">
                      <span className="font-bold text-gray-800">{item.label}</span>
                      <span className="text-gray-400 text-lg">ğŸ”Š</span>
                      {item.highlight && <span className="text-[10px] bg-red-100 text-red-600 px-1 rounded">æ³¨æ„</span>}
                    </div>
                    <div className={`text-sm ${item.highlight ? 'text-red-700 font-bold' : 'text-gray-600'}`}>{item.kana}</div>
                    <div className="text-xs text-gray-400">{item.romaji}</div>
                  </button>
                ))}
              </div>
            </div>
            <div>
              <h4 className="font-bold text-gray-700 mb-3 border-l-4 border-indigo-500 pl-2">åˆ†é˜ (Minute)</h4>
               <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                {appendixData.time.minutes.map((item, idx) => (
                  <button 
                    key={idx} 
                    onClick={() => playAudio(item.kana)}
                    className="bg-white p-3 rounded-lg border border-gray-200 shadow-sm hover:border-indigo-300 hover:bg-indigo-50 transition-all text-left w-full"
                  >
                    <div className="flex justify-between items-center mb-1">
                      <span className="font-bold text-gray-800">{item.label}</span>
                      <span className="text-gray-400 text-lg">ğŸ”Š</span>
                    </div>
                    <div className="text-sm text-gray-600">{item.kana}</div>
                    <div className="text-xs text-gray-400">{item.romaji}</div>
                  </button>
                ))}
              </div>
            </div>
          </div>
        );
      case 'timeWords':
        return (
          <div className="space-y-12">
            {appendixData.timeWords.tables.map((table, tIdx) => (
              <div key={tIdx}>
                <h4 className="font-bold text-gray-700 mb-4 flex items-center">
                  <span className="bg-indigo-600 text-white p-1 rounded mr-2 text-xl">ğŸ•’</span>
                  {table.title}
                </h4>
                
                {/* éŸ¿æ‡‰å¼æ²å‹•å®¹å™¨ */}
                <div className="overflow-x-auto border border-gray-200 rounded-xl shadow-sm">
                  <table className="min-w-full divide-y divide-gray-200">
                    <thead className="bg-indigo-50">
                      <tr>
                        <th className="py-3 px-4 text-left text-xs font-bold text-indigo-500 uppercase tracking-wider sticky left-0 bg-indigo-50 z-10 w-24">
                          åˆ†é¡
                        </th>
                        {table.headers.map((header, hIdx) => (
                          <th key={hIdx} className="py-3 px-4 text-center text-xs font-bold text-gray-600 uppercase tracking-wider min-w-[100px]">
                            {header}
                          </th>
                        ))}
                      </tr>
                    </thead>
                    <tbody className="bg-white divide-y divide-gray-200">
                      {table.rows.map((row, rIdx) => (
                        <tr key={rIdx} className={rIdx % 2 === 0 ? 'bg-white' : 'bg-gray-50/50'}>
                          <td className="py-3 px-4 text-sm font-bold text-indigo-700 sticky left-0 bg-white z-10 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] border-r border-gray-100">
                            {row.label}
                          </td>
                          {row.cells.map((cell, cIdx) => (
                            <td key={cIdx} className="py-3 px-2 text-center align-top relative group">
                              <button 
                                onClick={() => playAudio(cell.kana || cell.jp)}
                                className="absolute top-1 right-1 p-1 text-gray-300 hover:text-indigo-500 transition-colors text-sm"
                              >
                                ğŸ”Š
                              </button>
                              <div className="text-lg font-bold text-gray-800">{cell.jp}</div>
                              <div className="text-xs text-gray-500 font-medium mt-0.5">{cell.kana}</div>
                            </td>
                          ))}
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
                <p className="text-xs text-gray-400 mt-2 text-right">* æ‰‹æ©Ÿç‰ˆå¯å·¦å³æ»‘å‹•æŸ¥çœ‹å®Œæ•´è¡¨æ ¼ï¼Œé»æ“Šå–®å­—å¯ç™¼éŸ³</p>
              </div>
            ))}
          </div>
        );
      case 'calendar':
        return (
           <div className="space-y-6">
            <div>
              <h4 className="font-bold text-gray-700 mb-3 border-l-4 border-indigo-500 pl-2">æ˜ŸæœŸ (Weekdays)</h4>
              <div className="grid grid-cols-2 sm:grid-cols-4 gap-3">
                {appendixData.calendar.weekdays.map((item, idx) => (
                  <button 
                    key={idx} 
                    onClick={() => playAudio(item.kana)}
                    className="bg-indigo-50 p-3 rounded-md border border-indigo-100 text-center hover:bg-indigo-100 transition-colors group"
                  >
                    <div className="flex justify-center mb-1 text-indigo-300 text-lg">ğŸ”Š</div>
                    <div className="text-xs text-indigo-400 font-bold mb-1">{item.label}</div>
                    <div className="font-bold text-indigo-800 text-lg">{item.kanji}</div>
                    <div className="text-xs text-gray-600 mt-1">{item.kana}</div>
                  </button>
                ))}
              </div>
            </div>
            <div>
              <h4 className="font-bold text-gray-700 mb-3 border-l-4 border-indigo-500 pl-2">æœˆä»½ (Months)</h4>
              <div className="grid grid-cols-3 md:grid-cols-4 gap-3">
                 {appendixData.calendar.months.map((item, idx) => (
                  <button 
                    key={idx} 
                    onClick={() => playAudio(item.kana)}
                    className={`bg-white p-3 rounded-lg border ${item.highlight ? 'border-red-300 bg-red-50' : 'border-gray-200'} shadow-sm hover:border-indigo-300 hover:bg-indigo-50 transition-all text-left w-full`}
                  >
                    <div className="flex justify-between items-center mb-1">
                      <span className="font-bold text-gray-800">{item.label}</span>
                      <span className="text-gray-400 text-lg">ğŸ”Š</span>
                      {item.highlight && <span className="text-[10px] bg-red-100 text-red-600 px-1 rounded">æ³¨æ„</span>}
                    </div>
                    <div className={`text-sm ${item.highlight ? 'text-red-700 font-bold' : 'text-gray-700'}`}>{item.kana}</div>
                    <div className="text-xs text-gray-400">{item.romaji}</div>
                  </button>
                ))}
              </div>
            </div>
            <div>
              <h4 className="font-bold text-gray-700 mb-3 border-l-4 border-indigo-500 pl-2">æ—¥æœŸè®€éŸ³ (Days)</h4>
              <div className="grid grid-cols-3 md:grid-cols-5 gap-3">
                 {appendixData.calendar.days.map((item, idx) => (
                  <button 
                    key={idx} 
                    onClick={() => playAudio(item.kana || item.romaji)}
                    className={`bg-white p-3 rounded-lg border ${item.highlight ? 'border-orange-300 bg-orange-50' : 'border-gray-200'} shadow-sm hover:border-indigo-300 hover:bg-indigo-50 transition-all text-left w-full`}
                  >
                    <div className="flex justify-between items-center mb-1">
                      <span className="font-bold text-gray-800">{item.label}</span>
                      <span className="text-gray-400 text-xs text-lg">ğŸ”Š</span>
                      {item.highlight && <span className="text-[10px] bg-orange-200 text-orange-700 px-1 rounded">ç‰¹</span>}
                    </div>
                    <div className={`text-sm ${item.highlight ? 'text-orange-700 font-bold' : 'text-gray-600'}`}>{item.romaji}</div>
                    <div className="text-xs text-gray-400 mt-1">{item.kana}</div> 
                  </button>
                ))}
              </div>
            </div>
          </div>
        );
      case 'counters':
        return (
          <div className="space-y-10">
            {appendixData.counters.groups.map((group, gIdx) => (
              <div key={gIdx}>
                <h4 className="font-bold text-gray-700 mb-4 flex items-center border-b pb-2">
                  <span className="bg-emerald-600 text-white p-1 rounded mr-2 text-xl">ğŸ“¦</span>
                  {group.label}
                </h4>
                <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                  {group.items.map((item, iIdx) => (
                    <div key={iIdx} className="bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm">
                      <div className="bg-emerald-50 px-4 py-2 border-b border-emerald-100 font-bold text-emerald-800 text-center">
                        {item.unit}
                      </div>
                      <div className="divide-y divide-gray-100">
                        {item.list.map((row, rIdx) => (
                          <div key={rIdx} className="flex px-4 py-2 text-sm hover:bg-gray-50 items-center justify-between group">
                            <div className="flex items-center flex-1">
                              <span className="w-8 font-bold text-gray-400">{row.num}</span>
                              <span className={`font-medium ${row.highlight ? 'text-red-600' : 'text-gray-700'}`}>
                                {row.val}
                              </span>
                            </div>
                            <button 
                              onClick={() => playAudio(row.val)}
                              className="text-gray-300 hover:text-emerald-500 p-1 text-lg"
                            >
                              ğŸ”Š
                            </button>
                          </div>
                        ))}
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            ))}
          </div>
        );
       case 'family':
        return (
          <div className="overflow-x-auto">
            <table className="min-w-full bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200">
              <thead className="bg-gray-100">
                <tr>
                  <th className="py-3 px-4 text-left text-sm font-semibold text-gray-600">ç¨±è¬‚</th>
                  <th className="py-3 px-4 text-left text-sm font-semibold text-indigo-700">è‡ªå·±çš„å®¶äºº (è¬™ç¨±)</th>
                  <th className="py-3 px-4 text-left text-sm font-semibold text-emerald-700">åˆ¥äººçš„å®¶äºº (å°Šç¨±)</th>
                </tr>
              </thead>
              <tbody className="divide-y divide-gray-100">
                {appendixData.family.items.map((item, idx) => (
                  <tr key={idx} className="hover:bg-gray-50 group">
                    <td className="py-3 px-4 font-medium text-gray-800">{item.relation}</td>
                    <td className="py-3 px-4 text-gray-600">
                      <div className="flex items-center justify-between">
                        <span>{item.my}</span>
                        <button onClick={() => playAudio(item.my)} className="text-gray-300 hover:text-indigo-500 text-lg">ğŸ”Š</button>
                      </div>
                    </td>
                    <td className="py-3 px-4 text-gray-600">
                      <div className="flex items-center justify-between">
                        <span>{item.other}</span>
                        <button onClick={() => playAudio(item.other)} className="text-gray-300 hover:text-emerald-500 text-lg">ğŸ”Š</button>
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        );
      default:
        return null;
    }
  };

  return (
    <div>
      <div className="flex space-x-2 overflow-x-auto pb-4 mb-4">
        {categories.map((cat) => (
          <button
            key={cat.id}
            onClick={() => setActiveCategory(cat.id)}
            className={`flex items-center px-4 py-2 rounded-full whitespace-nowrap transition-colors ${
              activeCategory === cat.id 
                ? 'bg-indigo-600 text-white shadow-md' 
                : 'bg-white text-gray-600 border border-gray-200 hover:bg-gray-50'
            }`}
          >
            <span className="mr-2 text-lg">{cat.icon}</span>
            {cat.label}
          </button>
        ))}
      </div>
      <div className="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
        <div className="mb-6">
           <h3 className="text-2xl font-bold text-gray-800">{appendixData[activeCategory].title}</h3>
           {appendixData[activeCategory].description && (
             <p className="text-gray-500 mt-1">{appendixData[activeCategory].description}</p>
           )}
        </div>
        {renderContent()}
      </div>
    </div>
  );
};

// --- ä¸»æ‡‰ç”¨ç¨‹å¼ ---

const App = () => {
  const [currentLessonId, setCurrentLessonId] = useState(1);
  const [activeTab, setActiveTab] = useState('vocab'); // 'vocab', 'grammar', 'quiz'
  const [isSidebarOpen, setIsSidebarOpen] = useState(false);
  const [viewMode, setViewMode] = useState('lesson'); // 'lesson', 'review', 'appendix'
  const [reviewQuestions, setReviewQuestions] = useState([]);

  const currentLesson = lessonsData.find(l => l.id === currentLessonId);

  const tabs = [
    { id: 'vocab', label: 'å–®å­—è¡¨', icon: BookOpen },
    { id: 'grammar', label: 'æ–‡æ³•è§£èªª', icon: GraduationCap },
    { id: 'quiz', label: 'ç·´ç¿’æ¸¬é©—', icon: CheckCircle },
  ];

  // ç”Ÿæˆ 20 é¡Œéš¨æ©Ÿæ¸¬é©—çš„å‡½æ•¸
  const startReviewQuiz = () => {
    const allQuestions = lessonsData.flatMap(lesson => 
      lesson.quiz.map(q => ({ ...q, sourceLesson: lesson.title.split('ï¼š')[0] }))
    );
    
    // Fisher-Yates Shuffle
    for (let i = allQuestions.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [allQuestions[i], allQuestions[j]] = [allQuestions[j], allQuestions[i]];
    }
    
    setReviewQuestions(allQuestions.slice(0, 20));
    setViewMode('review');
    setIsSidebarOpen(false);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  const handleLessonChange = (id) => {
    setViewMode('lesson');
    setCurrentLessonId(id);
    setActiveTab('vocab');
    setIsSidebarOpen(false);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  const switchToAppendix = () => {
    setViewMode('appendix');
    setIsSidebarOpen(false);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  return (
    <div className="min-h-screen bg-slate-50 text-gray-800 font-sans">
      {/* é ‚éƒ¨å°èˆª */}
      <header className="bg-indigo-600 text-white shadow-lg sticky top-0 z-50">
        <div className="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
          <div className="flex items-center space-x-3">
            <button 
              className="lg:hidden p-1 hover:bg-indigo-500 rounded"
              onClick={() => setIsSidebarOpen(!isSidebarOpen)}
            >
              <Menu size={24} />
            </button>
            <div className="flex items-center space-x-2">
              <Globe size={24} />
              <h1 className="text-xl font-bold tracking-wide">å¤§å®¶çš„æ—¥æœ¬èª <span className="text-indigo-200 text-sm font-normal hidden sm:inline">| æ•¸ä½æ•™å®¤</span></h1>
            </div>
          </div>
          <div className="text-sm font-medium bg-indigo-700 px-3 py-1 rounded-full border border-indigo-500">
            ç¹é«”ä¸­æ–‡ç‰ˆ
          </div>
        </div>
      </header>

      <div className="max-w-7xl mx-auto flex flex-col lg:flex-row min-h-[calc(100vh-64px)]">
        
        {/* å´é‚Šæ¬„ (èª²ç¨‹é¸æ“‡) */}
        <aside className={`
          fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:h-auto lg:min-h-full shadow-xl lg:shadow-none flex flex-col
          ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}
        `}>
          <div className="p-4 border-b border-gray-100 flex justify-between items-center lg:hidden">
            <span className="font-bold text-gray-500">èª²ç¨‹åˆ—è¡¨</span>
            <button onClick={() => setIsSidebarOpen(false)}><X size={20} /></button>
          </div>
          
          <div className="flex-1 overflow-y-auto p-4">
            <h2 className="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 px-2">èª²ç¨‹é¸æ“‡</h2>
            <div className="space-y-1">
              {lessonsData.map((lesson) => (
                <button
                  key={lesson.id}
                  onClick={() => handleLessonChange(lesson.id)}
                  className={`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center justify-between group ${
                    viewMode === 'lesson' && currentLessonId === lesson.id
                      ? 'bg-indigo-50 text-indigo-700 shadow-sm ring-1 ring-indigo-200'
                      : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'
                  }`}
                >
                  <span className="truncate">ç¬¬ {lesson.id} èª²</span>
                  {viewMode === 'lesson' && currentLessonId === lesson.id && <ChevronRight size={16} />}
                </button>
              ))}
            </div>

            <div className="mt-8 border-t border-dashed border-gray-200 pt-6 space-y-2">
              <h2 className="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 px-2">è‡ªæˆ‘æŒ‘æˆ° & è³‡æº</h2>
              
              <button
                onClick={startReviewQuiz}
                className={`w-full text-left px-4 py-3 rounded-lg text-sm font-bold transition-all flex items-center justify-between group border-2 ${
                  viewMode === 'review'
                    ? 'bg-amber-50 text-amber-700 border-amber-300 shadow-md'
                    : 'bg-white text-gray-700 border-gray-200 hover:border-amber-300 hover:bg-amber-50'
                }`}
              >
                <div className="flex items-center">
                  <Trophy size={18} className={`mr-2 ${viewMode === 'review' ? 'text-amber-500' : 'text-gray-400 group-hover:text-amber-500'}`} />
                  <span>ç¸½è¤‡ç¿’æ¸¬é©— (20é¡Œ)</span>
                </div>
                {viewMode === 'review' && <ChevronRight size={16} />}
              </button>

              <button
                onClick={switchToAppendix}
                className={`w-full text-left px-4 py-3 rounded-lg text-sm font-bold transition-all flex items-center justify-between group border-2 ${
                  viewMode === 'appendix'
                    ? 'bg-blue-50 text-blue-700 border-blue-300 shadow-md'
                    : 'bg-white text-gray-700 border-gray-200 hover:border-blue-300 hover:bg-blue-50'
                }`}
              >
                <div className="flex items-center">
                  <BookOpen size={18} className={`mr-2 ${viewMode === 'appendix' ? 'text-blue-500' : 'text-gray-400 group-hover:text-blue-500'}`} />
                  <span>å¯¦ç”¨é™„éŒ„è³‡æ–™</span>
                </div>
                {viewMode === 'appendix' && <ChevronRight size={16} />}
              </button>

            </div>
            
            <div className="mt-8 px-4 py-4 bg-orange-50 rounded-xl border border-orange-100">
              <div className="flex items-start space-x-3">
                <MessageCircle size={20} className="text-orange-400 mt-1 flex-shrink-0" />
                <div>
                  <h4 className="text-sm font-bold text-orange-800">è€å¸«çš„å°å®åš€</h4>
                  <p className="text-xs text-orange-700 mt-1 leading-relaxed">
                    åˆ¥å¿˜äº†å¤šçœ‹é™„éŒ„è£¡çš„ã€Œæ•¸å­—ã€å’Œã€Œæ—¥æœŸã€å¿µæ³•ï¼Œå°¤å…¶æ˜¯ 4ã€7ã€9 å’Œ 1-10 è™Ÿçš„æ—¥æœŸï¼Œæ˜¯è€ƒè©¦æœ€å¸¸å‡ºçš„é™·é˜±å–”ï¼
                  </p>
                </div>
              </div>
            </div>
          </div>
        </aside>

        {/* é®ç½© (Mobile Sidebar Overlay) */}
        {isSidebarOpen && (
          <div 
            className="fixed inset-0 bg-black/50 z-30 lg:hidden"
            onClick={() => setIsSidebarOpen(false)}
          />
        )}

        {/* ä¸»è¦å…§å®¹å€ */}
        <main className="flex-1 p-4 lg:p-8 overflow-y-auto">
          <div className="max-w-4xl mx-auto">
            
            {viewMode === 'review' && (
              // ç¸½è¤‡ç¿’æ¨¡å¼è¦–åœ–
              <div className="animate-fade-in-up">
                <div className="mb-8 border-b border-gray-200 pb-6">
                  <div className="flex items-center space-x-2 text-amber-600 font-semibold mb-2">
                    <Trophy size={20} />
                    <span className="uppercase tracking-wide">CHALLENGE MODE</span>
                  </div>
                  <h2 className="text-3xl font-bold text-gray-900 mb-2">ç¬¬1-6èª² ç¶œåˆå¯¦åŠ›æ¸¬é©—</h2>
                  <p className="text-lg text-gray-600">
                    ç³»çµ±å·²éš¨æ©ŸæŠ½å‡º 20 é¡Œã€‚é€™åŒ…å«äº†åŠ©è©ã€å–®å­—ã€å‹•è©è®ŠåŒ–ç­‰æ‰€æœ‰ç¯„åœã€‚æº–å‚™å¥½äº†å—ï¼ŸåŠ æ²¹ï¼
                  </p>
                </div>
                <QuizSection quiz={reviewQuestions} isReviewMode={true} />
              </div>
            )}

            {viewMode === 'appendix' && (
              // é™„éŒ„æ¨¡å¼è¦–åœ–
              <div className="animate-fade-in-up">
                 <div className="mb-8 border-b border-gray-200 pb-6">
                  <div className="flex items-center space-x-2 text-blue-600 font-semibold mb-2">
                    <BookOpen size={20} />
                    <span className="uppercase tracking-wide">APPENDIX</span>
                  </div>
                  <h2 className="text-3xl font-bold text-gray-900 mb-2">å¯¦ç”¨é™„éŒ„è³‡æ–™åº«</h2>
                  <p className="text-lg text-gray-600">
                    é€™è£¡æ•´ç†äº†å­¸ç¿’æ—¥èªå¿…å‚™çš„åŸºç¤è³‡æ–™ï¼ŒåŒ…å«æ•¸å­—ã€æ™‚é–“ã€æ—¥æœŸä»¥åŠå®¶æ—ç¨±è¬‚ã€‚
                  </p>
                </div>
                <AppendixSection />
              </div>
            )}

            {viewMode === 'lesson' && (
              // ä¸€èˆ¬èª²ç¨‹è¦–åœ–
              <>
                {/* èª²ç¨‹æ¨™é¡Œ */}
                <div className="mb-8">
                  <div className="flex items-center space-x-2 text-indigo-600 font-semibold mb-1">
                    <span className="bg-indigo-100 px-2 py-0.5 rounded text-xs uppercase tracking-wide">Lesson {currentLesson.id}</span>
                  </div>
                  <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-3">{currentLesson.title}</h2>
                  <p className="text-lg text-gray-600">{currentLesson.description}</p>
                </div>

                {/* åŠŸèƒ½åˆ†é  Tabs */}
                <div className="flex space-x-1 bg-white p-1 rounded-xl shadow-sm border border-gray-200 mb-8 sticky top-20 z-20">
                  {tabs.map((tab) => (
                    <button
                      key={tab.id}
                      onClick={() => setActiveTab(tab.id)}
                      className={`flex-1 flex items-center justify-center py-3 px-4 rounded-lg text-sm font-bold transition-all ${
                        activeTab === tab.id
                          ? 'bg-indigo-600 text-white shadow-md'
                          : 'text-gray-500 hover:text-gray-700 hover:bg-gray-50'
                      }`}
                    >
                      <tab.icon size={18} className="mr-2" />
                      {tab.label}
                    </button>
                  ))}
                </div>

                {/* å…§å®¹é¡¯ç¤ºå€ */}
                <div className="animate-fade-in-up">
                  {activeTab === 'vocab' && (
                    <div>
                      <VocabularyList vocab={currentLesson.vocab} relatedVocab={currentLesson.relatedVocab} />
                    </div>
                  )}

                  {activeTab === 'grammar' && (
                    <div>
                      <h3 className="text-xl font-bold text-gray-800 mb-4">æ–‡æ³•é‡é» (Grammar Points)</h3>
                      <GrammarSection grammar={currentLesson.grammar} />
                    </div>
                  )}

                  {activeTab === 'quiz' && (
                    <div>
                      <h3 className="text-xl font-bold text-gray-800 mb-4">è‡ªæˆ‘ç·´ç¿’ (Practice)</h3>
                      <div className="bg-emerald-50 border border-emerald-100 p-4 rounded-lg mb-6 text-emerald-800 text-sm flex items-start">
                         <div className="bg-emerald-200 text-emerald-800 rounded-full p-1 mr-3 mt-0.5"><CheckCircle size={16} /></div>
                         <div>
                            æœ¬èª²å…±æœ‰ {currentLesson.quiz.length} é¡Œç·´ç¿’ã€‚å¦‚æœæ‚¨æƒ³æŒ‘æˆ°æ›´å¤šè·¨ç« ç¯€çš„é¡Œç›®ï¼Œè«‹ä½¿ç”¨å·¦å´é¸å–®çš„ã€Œç¸½è¤‡ç¿’æ¸¬é©—ã€ã€‚
                         </div>
                      </div>
                      <QuizSection quiz={currentLesson.quiz} />
                    </div>
                  )}
                </div>
              </>
            )}

          </div>
        </main>
      </div>
    </div>
  );
};

export default App;